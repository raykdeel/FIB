!function(e){function t(e,t){if(!t)throw i.className=r,new Error(r+": "+e)}
function n(e){return "function"==typeof e}
if(!e||e.window!==e||!e.document)throw new Error("no-window");var r="no-browser",i=e.document.documentElement;i.className="",t("console",e.console&&n(e.console.log)),t("assign",e.Object&&n(e.Object.assign)),t("promise",n(e.Promise)),t("xhr",e.XMLHttpRequest)}(this),function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}
var n={};t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";n(1)},function(e,t,n){"use strict";var r=n(2),i=r.dom,o=r.awaitReady,a=n(7),s=i("script[data-module]").attr("data-module"),c={action:"get",setup:!0,options:!0,types:!0};if("index"===s)c.theme=!0,c.langs=!0;else{if("info"!==s)throw new Error("no-main-module: '"+s+"'");c.refresh=!0}
a._update(c).then(function(){return o()}).then(function(){return n(9)("./"+s)})},function(e,t,n){"use strict";e.exports=Object.assign({},n(3),n(4),n(5),n(6))},function(e,t){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e,t){return(void 0===e?"undefined":n(e))===t},i=function(e){return r(e,"string")},o=function(e){return r(e,"function")},a=function(e){return e&&e.hasOwnProperty("length")},s=function(e){return!e||i(e)?[]:(a(e)&&(e=Array.from(e)),Object.keys(e))},c=function(e){return s(e).map(function(t){return e[t]})},l=function(e,t){return c(e).filter(t)},u=function(e,t){return e<t?-1:e>t?1:0};e.exports={is:function(e){return null!=e},isStr:i,isFn:o,isNum:function(e){return r(e,"number")},hasLength:a,keys:s,values:c,each:function(e,t){return s(e).forEach(function(n){return t(e[n],n)})},filter:l,map:function(e,t){return c(e).map(t)},includes:function(e,t){return c(e).indexOf(t)>=0},compact:function(e){return l(e,function(e){return!!e})},isInstanceOf:function(e,t){return!!e&&e instanceof t},toArray:function(e){return Array.from(e)},difference:function(e,t){return t=c(t),l(e,function(e){return t.indexOf(e)<0})},intersection:function(e,t){return t=c(t),l(e,function(e){return t.indexOf(e)>=0})},cmp:u,sortBy:function(e,t){var n=o(t)?t:function(e){return e[t]};return c(e).sort(function(e,t){return u(n(e),n(t))})},debounce:function(e,t){var n=null;return function(){clearTimeout(n),n=setTimeout(e,t)}}}},function(e,t,n){(function(t){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}
return Array.from(e)}
var i=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}
return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=n(3),a=o.each,s=o.filter,c=o.hasLength,l=o.is,u=o.isStr,f=o.map,d=o.isInstanceOf,h=o.toArray,p=t.window,g=p.document,m=function(){var e=function(e){return g.createElement(e)},t=[[/^<t(head|body|foot)|^<c(ap|olg)/i,e("table")],[/^<col/i,e("colgroup")],[/^<tr/i,e("tbody")],[/^<t[dh]/i,e("tr")]],n=e("div"),r=function(e){var r=!0,o=!1,a=void 0;try{for(var s,c=t[Symbol.iterator]();!(r=(s=c.next()).done);r=!0){var l=s.value,u=i(l,2),f=u[0],d=u[1];if(f.test(e))return d}}catch(e){o=!0,a=e}finally{try{!r&&c.return&&c.return()}finally{if(o)throw a}}
return n};return function(e){var t=r(e);t.innerHTML=e;var n=h(t.childNodes);return a(n,function(e){return t.removeChild(e)}),t.innerHTML="",n}}(),v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g;try{return h(t.querySelectorAll(e))}catch(e){return[]}},b=function(e){return d(e,p.Document)},w=function(e){return function(e){return d(e,p.Element)}(e)||b(e)||function(e){return l(e)&&e.window===e&&b(e.document)}(e)},y=function(e,t,n){return e.addEventListener(t,n)},x=new Promise(function(e){/^(i|c|loade)/.test(g.readyState)?e():y(g,"DOMContentLoaded",function(){return e()})}),k=new Promise(function(e){y(p,"load",function(){return e()})}),C=function e(t){if(d(t,e))return t;var n=void 0;return u(t)?n="<"===(t=t.trim())[0]?m(t):v(t):n=w(t)?[t]:c(t)?t:[t],n=s(n,w),Object.assign(Object.create(e.prototype),n,{length:n.length})};C.prototype={constructor:C,each:function(e){return a(this,e),this},map:function(e){return f(this,e)},find:function(e){var t;return C((t=[]).concat.apply(t,r(this.map(function(t){return v(e,t)}))))},on:function(e,t){return this.each(function(n){return y(n,e,t)})},off:function(e,t){return this.each(function(n){return function(e,t,n){return e.removeEventListener(t,n)}(n,e,t)})},attr:function(e,t){return void 0===t?this.length?this[0].getAttribute(e):void 0:this.each(function(n){return n.setAttribute(e,t)})},rmAttr:function(e){return this.each(function(t){return t.removeAttribute(e)})},prop:function(e,t){return void 0===t?this.length?this[0][e]:void 0:this.each(function(n){n[e]=t})},rmProp:function(e){return this.each(function(t){return delete t[e]})},val:function(e){return void 0===e?this.length?this[0].value:void 0:this.each(function(t){t.value=e})},html:function(e){return void 0===e?this.map(function(e){return e.innerHTML}).join(""):this.each(function(t){t.innerHTML=e})},text:function(e){return void 0===e?this.map(function(e){return e.textContent}).join(""):this.each(function(t){t.textContent=e})},clr:function(){return this.html("")},rm:function(){return this.each(function(e){var t=e.parentNode;t&&t.removeChild(e)})},rpl:function(e){return this.each(function(t){var n=t.parentNode;n&&n.replaceChild(C(e)[0],t)})},app:function(e){return this.each(function(t){C(e).each(function(e){return t.appendChild(e)})})},appTo:function(e){return C(e).app(this),this},pre:function(e){return this.each(function(t){C(e).each(function(e){var n=t.firstChild;n?t.insertBefore(e,n):t.appendChild(e)})})},preTo:function(e){return C(e).pre(this),this},cls:function(){return arguments.length?(this.each(function(e){e.className=""}),this.addCls.apply(this,arguments)):this.length?h(this[0].classList):[]},hasCls:function(e){return h(this).every(function(t){return t.classList.contains(e)})},addCls:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.each(function(e){var n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;e.classList.add(s)}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}})},rmCls:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.each(function(e){var n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;e.classList.remove(s)}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}})},tglCls:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.each(function(e){var n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;e.classList.contains(s)?e.classList.remove(s):e.classList.add(s)}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}})},parent:function(){return C(this.map(function(e){return e.parentNode}))},children:function(){var e;return C((e=[]).concat.apply(e,r(this.map(function(e){return h(e.children)}))))},hide:function(){return this.addCls("hidden")},show:function(){return this.rmCls("hidden")},isHidden:function(){return this.hasCls("hidden")},css:function(e){return this.each(function(t){return Object.assign(t.style,e)})}},e.exports={awaitReady:function(){return x},awaitLoad:function(){return k},dom:C}}).call(t,function(){return this}())},function(e,t){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,i=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,o=/^0x[0-9a-f]+$/i,a=/^0/;e.exports={naturalCmp:function(e,t){var s=String(e).trim(),c=String(t).trim(),l=s.replace(r,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),u=c.replace(r,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),f=parseInt(s.match(o),16)||1!==l.length&&s.match(i)&&Date.parse(s),d=parseInt(c.match(o),16)||f&&c.match(i)&&Date.parse(c)||null;if(d){if(f<d)return-1;if(f>d)return 1}
for(var h=0,p=Math.max(l.length,u.length);h<p;h+=1){var g=!(l[h]||"").match(a)&&parseFloat(l[h])||l[h]||0,m=!(u[h]||"").match(a)&&parseFloat(u[h])||u[h]||0;if(isNaN(g)!==isNaN(m))return isNaN(g)?1:-1;if((void 0===g?"undefined":n(g))!==(void 0===m?"undefined":n(m))&&(g=String(g),m=String(m)),g<m)return-1;if(g>m)return 1}
return 0}}},function(e,t){"use strict";var n=function(e){return e.replace(/[\-\[\]{}()*+?.,\\$\^|#\s]/g,"\\$&")};e.exports={parsePattern:function(e,t){return t?"re:"===e.substr(0,3)?e.substr(3):e.trim().split(/\s+/).map(function(e){return e.split("").map(function(e){return n(e)}).join(".*?")}).join("|"):n(e)}}},function(e,t,n){"use strict";var r=n(8).request,i=e.exports={_update:function(e){return r(e).then(function(e){return Object.assign(i,e)})}}},function(e,t,n){(function(t){"use strict";var r=n(2),i=r.each,o=r.dom,a=t.window.XMLHttpRequest;e.exports={request:function(e){return new Promise(function(t){var n=new a;n.open("POST","?",!0),n.onreadystatechange=function(){if(n.readyState===a.DONE)try{t(JSON.parse(n.responseText))}catch(e){t({err:e,txt:n.responseText})}},n.setRequestHeader("Content-Type","application/json;charset=utf-8"),n.send(JSON.stringify(e))})},formRequest:function(e){var t=o('<form method="post" action="?" style="display:none;"/>');i(e,function(e,n){o('<input type="hidden"/>').attr("name",n).attr("value",e).appTo(t)}),t.appTo("body"),t[0].submit(),t.rm()}}}).call(t,function(){return this}())},function(e,t,n){function r(e){return n(i(e))}
function i(e){return o[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}
var o={"./index":10,"./index.js":10,"./info":50,"./info.js":50};r.keys=function(){return Object.keys(o)},r.resolve=i,e.exports=r,r.id=9},function(e,t,n){(function(e){"use strict";n(11),n(24),n(25),n(26),n(27),n(29),n(30),n(31),n(32),n(34),n(36),n(37),n(44),n(45),n(46),n(47),n(48),n(49);var t=e.window.document.location.href;n(20).setLocation(t,!0)}).call(t,function(){return this}())},function(e,t,n){"use strict";var r=n(2),i=r.each,o=r.dom,a=n(12),s=n(13),c=n(14),l=n(15),u=n(17),f=n(18),d=Object.assign({modeToggle:!1},c.view),h='<div id="viewmode-[MODE]" class="button mode">\n            <img src="'+s.image("view-[MODE]")+'" alt="viewmode-[MODE]"/>\n        </div>',p=void 0,g=void 0,m=function(e,t){o("#viewmode-settings .mode").rmCls("active"),o("#viewmode-"+e).addCls("active"),o("#viewmode-size").val(g.indexOf(t)),"next"===d.modeToggle&&(e=p[(p.indexOf(e)+1)%p.length]),o("#viewmode-toggle img").attr("src",s.image("view-"+e))},v=function(){var e=f.getMode(),t=(p.indexOf(e)+1)%p.length,n=p[t];f.setMode(n)};p=f.getModes(),g=f.getSizes(),function(){if(!(p.length<2&&g.length<2)){var e=o('<div id="viewmode-settings" class="block"><h1 class="l10n-view">View</h1></div>');if(p.length>1&&i(p,function(t){o(h.replace(/\[MODE\]/g,t)).on("click",function(){f.setMode(t)}).appTo(e)}),g.length>1){var t=g.length-1;o('<input id="viewmode-size" type="range" min="0" max="0" value="0">').attr("max",t).on("input",function(e){return f.setSize(g[e.target.valueAsNumber])}).on("change",function(e){return f.setSize(g[e.target.valueAsNumber])}).appTo(e)}
e.appTo(l.$el)}}(),d.modeToggle&&p.length>1&&o('<div id="viewmode-toggle" class="tool">\n            <img alt="viewmode"/>\n        </div>').on("click",v).appTo(u.$toolbar),m(f.getMode(),f.getSize()),a.sub("view.mode.changed",m)},function(e,t,n){(function(t){"use strict";var r=n(2),i=r.isStr,o=r.isFn,a=r.dom,s={},c=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];i(e)&&s[e]&&s[e].forEach(function(t){t.apply(e,n)})};a(t.window).on("resize",function(){return c("resize")}),e.exports={sub:function(e,t){i(e)&&o(t)&&(s[e]||(s[e]=[]),s[e].push(t))},pub:c}}).call(t,function(){return this}())},function(e,t,n){"use strict";var r=n(2).includes,i=n(7),o=n(14).publicHref+"images/",a=o+"ui/",s=o+"themes/",c=s+"default/",l=["file","folder","folder-page","folder-parent","ar","aud","bin","img","txt","vid","x"];e.exports={image:function(e){return a+e+".svg"},icon:function(e){var t=(e||"").split("-")[0],n=i.theme[e]||i.theme[t];return n?s+n:r(l,e)?c+e+".svg":r(l,t)?c+t+".svg":c+"file.svg"}}},function(e,t,n){"use strict";var r=n(7);e.exports=Object.assign({},r.options,{publicHref:r.setup.PUBLIC_HREF,rootHref:r.setup.ROOT_HREF})},function(e,t,n){"use strict";var r=n(2).dom,i=n(13),o=n(14),a=n(16),s=n(17),c=Object.assign({disableSidebar:!1},o.view),l="sidebarIsVisible";e.exports=function(){var e=r('<div id="sidebar"></div>').hide(),t=r('<div id="sidebar-toggle" class="tool">\n            <img alt="sidebar"/>\n        </div>'),n=t.find("img"),o=function(r){var o=a.get(l);r&&(o=!o,a.put(l,o)),o?(t.addCls("active"),n.attr("src",i.image("back")),e.show()):(t.rmCls("active"),n.attr("src",i.image("sidebar")),e.hide())};return c.disableSidebar||(e.appTo(s.$mainrow),t.appTo(s.$toolbar).on("click",function(){return o(!0)}),o()),{$el:e}}()},function(e,t){(function(t){"use strict";var n=t.window.localStorage,r="_h5ai",i=function(){try{return JSON.parse(n[r])}catch(e){}
return{}},o=function(e){n[r]=JSON.stringify(e)};e.exports={put:function(e,t){var n=i();n[e]=t,o(n)},get:function(e){return i()[e]}}}).call(t,function(){return this}())},function(e,t,n){"use strict";var r=n(2).dom;e.exports=function(){var e=r("body").attr("id","root").clr().app('<div id="topbar">\n            <div id="toolbar"></div>\n            <div id="flowbar"></div><a id="backlink" href="https://www.instagram.com/_fiberhub/"><img src="/_h5ai/public/images/ui/Instagram.svg" title="Segueix-nos a Instagram!" width="30" height="30" hspace="2" vspace="2"></a>\n        </div>').app('<div id="mainrow">\n            <div id="content"></div>\n        </div>');return{$root:e,$topbar:e.find("#topbar"),$toolbar:e.find("#toolbar"),$flowbar:e.find("#flowbar"),$mainrow:e.find("#mainrow"),$content:e.find("#content")}}()},function(e,t,n){"use strict";var r=n(2),i=r.each,o=r.map,a=r.includes,s=r.intersection,c=r.dom,l=n(12),u=n(19),f=n(20),d=n(13),h=n(16),p=n(14),g=n(17),m=["details","grid","icons"],v=Object.assign({binaryPrefix:!1,hideFolders:!1,hideParentFolder:!1,maxIconSize:40,modes:m,setParentFolderLabels:!1,sizes:[20,40,60,80,100,150,200,250,300,350,400]},p.view),b=v.sizes.sort(function(e,t){return e-t}),w=s(v.modes,m),y="view",x=c('<div id="view">\n            <ul id="items" class="clearfix">\n                <li class="header">\n                    <a class="icon"></a>\n                    <a class="label" href="#"><span class="l10n-name"/></a>\n                    <a class="date" href="#"><span class="l10n-lastModified"/></a>\n                    <a class="size" href="#"><span class="l10n-size"/></a>\n                </li>\n            </ul>\n            <div id="view-hint"></div>\n        </div>'),k=x.find("#items"),C=x.find("#view-hint"),S=function(e,t,n){return Math.min(n,Math.max(t,e))},_=function(e,t){var n=h.get(y);e=e||n&&n.mode,t=t||n&&n.size,e=a(v.modes,e)?e:v.modes[0],t=a(v.sizes,t)?t:v.sizes[0],h.put(y,{mode:e,size:t}),i(w,function(t){t===e?x.addCls("view-"+t):x.rmCls("view-"+t)}),i(b,function(e){e===t?x.addCls("view-size-"+e):x.rmCls("view-size-"+e)}),l.pub("view.mode.changed",e,t)},A=function(e){var t=e.target._item;l.pub("item.mouseenter",t)},T=function(e){var t=e.target._item;l.pub("item.mouseleave",t)},z=function(e){var t=c('<li class="item">\n            <a>\n                <span class="icon square"><img/></span>\n                <span class="icon landscape"><img/></span>\n                <span class="label"></span>\n                <span class="date"></span>\n                <span class="size"></span>\n            </a>\n        </li>'),n=t.find("a"),r=t.find(".icon img"),i=t.find(".label"),o=t.find(".date"),a=t.find(".size");return t.addCls(e.isFolder()?"folder":"file").on("mouseenter",A).on("mouseleave",T),f.setLink(n,e),i.text(e.label).attr("title",e.label),o.attr("data-time",e.time).text(u.formatDate(e.time)),a.attr("data-bytes",e.size).text(u.formatSize(e.size)),e.icon=d.icon(e.type),e.isFolder()&&!e.isManaged&&(t.addCls("page"),e.icon=d.icon("folder-page")),e.isCurrentParentFolder()&&(e.icon=d.icon("folder-parent"),v.setParentFolderLabels||i.addCls("l10n-parentDirectory"),t.addCls("folder-parent")),r.attr("src",e.icon).attr("alt",e.type),e.$view=t,t[0]._item=e,t},$=function(){k.find(".item").length===k.find(".folder-parent").length?C.show():C.hide()},L=function(e){var t=o(k.find(".item"),function(e){return e._item});k.find(".item").rm(),i(e,function(e){return k.app(z(e))}),g.$content[0].scrollLeft=0,g.$content[0].scrollTop=0,$(),l.pub("view.changed",e,t)},H=function(e,t){i(e,function(e){z(e).hide().appTo(k).show()}),i(t,function(e){e.$view.hide().rm()}),$(),l.pub("view.changed",e,t)},D=function(e){C.rmCls().addCls("l10n-"+e),$()},E=function(e){e||(e=f.getItem());var t=[];e.parent&&!v.hideParentFolder&&t.push(e.parent),i(e.content,function(e){e.isFolder()&&v.hideFolders||t.push(e)}),D("empty"),L(t)},P=function(e,t,n){var r=[];i(t,function(e){e.isFolder()&&v.hideFolders||r.push(e)}),D("empty"),H(r,n)},M=function(){var e=x[0].offsetWidth;x.rmCls("width-0").rmCls("width-1"),e<320?x.addCls("width-0"):e<480&&x.addCls("width-1")};(function(){var e=o(b,function(e){return function(e){var t=S(e,20,80),n=S(e,40,160),r=S(e,80,1e3),i=Math.round(4*r/3),o="!important;",a="#view.view-details.view-size-"+e,s="#view.view-grid.view-size-"+e,c="#view.view-icons.view-size-"+e;return[a+" .item .label {line-height: "+(t+14)+"px "+o+"}",a+" .item .date {line-height: "+(t+14)+"px "+o+"}",a+" .item .size {line-height: "+(t+14)+"px "+o+"}",a+" .square {width: "+t+"px "+o+" height: "+t+"px "+o+"}",a+" .square img {width: "+t+"px "+o+" height: "+t+"px "+o+"}",a+" .label {margin-left: "+(t+32)+"px "+o+"}",s+" .item .label {line-height: "+n+"px "+o+"}",s+" .square {width: "+n+"px "+o+" height: "+n+"px "+o+"}",s+" .square img {width: "+n+"px "+o+" height: "+n+"px "+o+"}",c+" .item {width: "+i+"px "+o+"}",c+" .landscape {width: "+i+"px "+o+" height: "+r+"px "+o+"}",c+" .landscape img {width: "+r+"px "+o+" height: "+r+"px "+o+"}",c+" .landscape .thumb {width: "+i+"px "+o+"}"].join("\n")}(e)});e.push("#view .icon img {max-width: "+v.maxIconSize+"px; max-height: "+v.maxIconSize+"px;}"),c("<style></style>").text(e.join("\n")).appTo("head")})(),_(),x.appTo(g.$content),C.hide(),u.setDefaultMetric(v.binaryPrefix),l.sub("location.changed",E),l.sub("location.refreshed",P),l.sub("resize",M),M(),e.exports={$el:x,setItems:L,changeItems:H,setLocation:E,setHint:D,getModes:function(){return w},getMode:function(){return h.get(y).mode},setMode:function(e){return _(e,null)},getSizes:function(){return b},getSize:function(){return h.get(y).size},setSize:function(e){return _(null,e)}}},function(e,t,n){"use strict";var r=n(2).isNum,i={t:1e3,k:1e3,u:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},o={t:1024,k:1024,u:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},a=i,s=[[/YYYY/,"Y",4],[/YY/,"Y",2],[/Y/,"Y",0],[/MM/,"M",2],[/M/,"M",0],[/DD/,"D",2],[/D/,"D",0],[/HH/,"H",2],[/H/,"H",0],[/mm/,"m",2],[/m/,"m",0],[/ss/,"s",2],[/s/,"s",0]],c="YYYY-MM-DD HH:mm";e.exports={setDefaultMetric:function(e){a=e?o:i},formatSize:function(e,t){if(t=t||a,!r(e)||e<0)return "";for(var n=0,i=t.u.length-1;e>=t.t&&n<i;)e/=t.k,n+=1;return(n<=1?Math.round(e):e.toFixed(1)).toString()+" "+t.u[n]},setDefaultDateFormat:function(e){c=e},formatDate:function(e,t){if(!e||!r(e))return "";t=t||c;var n=new Date(e),i={Y:n.getFullYear(),M:n.getMonth()+1,D:n.getDate(),H:n.getHours(),m:n.getMinutes(),s:n.getSeconds()};return s.forEach(function(e){t=t.replace(e[0],function(e,t){var n=String(e);return t&&(n=("000"+n).substr(-t)),n}(i[e[1]],e[2]))}),t}}},function(e,t,n){(function(t){"use strict";var r=n(2),i=r.each,o=r.values,a=r.difference,s=n(8).request,c=n(14),l=n(12),u=n(21),f=t.window,d=f.document,h=Object.assign({fastBrowsing:!0,unmanagedInNewWindow:!0},c.view),p=h.fastBrowsing?f.history:null,g=/^.*:\/\/[^\/]*|[^\/]*$/g,m=[[/\/+/g,"/"],[/ /g,"%20"],[/!/g,"%21"],[/#/g,"%23"],[/\$/g,"%24"],[/&/g,"%26"],[/'/g,"%27"],[/\(/g,"%28"],[/\)/g,"%29"],[/\*/g,"%2A"],[/\+/g,"%2B"],[/\,/g,"%2C"],[/:/g,"%3A"],[/;/g,"%3B"],[/\=/g,"%3D"],[/\?/g,"%3F"],[/@/g,"%40"],[/\[/g,"%5B"],[/\]/g,"%5D"]],v=null,b=function(e){return m.reduce(function(e,t){return e.replace(t[0],t[1])},e)},w=function(e){return e.replace(g,"")},y=function(){var e="/a b",t=d.createElement("a");return t.href=e,w(t.href)===e}(),x=function(){return n(22).get(v)},k=function(){return s({action:"get",items:{href:v,what:1}}).then(function(e){var t=n(22),r=t.get(v);if(e){var o={};i(e.items,function(e){var n=t.get(e);o[n.absHref]=!0}),i(r.content,function(e){o[e.absHref]||t.remove(e.absHref)})}
return r})},C=function(){var e=x(),t=o(e.content);l.pub("location.beforeRefresh"),k().then(function(){var n=o(e.content),r=a(n,t),i=a(t,n);l.pub("location.refreshed",e,r,i)})},S=function(e,t){l.pub("location.beforeChange"),e=function(e){var t=d.createElement("a"),n=void 0;return t.href=e,n=w(t.href),y&&(n=encodeURIComponent(n).replace(/%2F/gi,"/")),b(n)}(e),v!==e&&(v=e,p&&(t?p.replaceState({absHref:v},"",v):p.pushState({absHref:v},"",v)));var n=x();n.isLoaded?(l.pub("location.changed",n),C()):(u.set("loading..."),k().then(function(){n.isLoaded=!0,u.set(),l.pub("location.changed",n)}))};f.onpopstate=p?function(e){e.state&&e.state.absHref&&S(e.state.absHref,!0)}:null,e.exports={forceEncoding:b,getDomain:function(){return d.domain},getAbsHref:function(){return v},getItem:x,setLocation:S,refresh:C,setLink:function(e,t){e.attr("href",t.absHref),p&&t.isFolder()&&t.isManaged&&e.on("click",function(e){return S(t.absHref),e.preventDefault(),!1}),h.unmanagedInNewWindow&&!t.isManaged&&e.attr("target","_blank")}}}).call(t,function(){return this}())},function(e,t,n){"use strict";var r=n(2).dom,i=n(17);e.exports=function(){var e=r('<div id="notification"></div>').hide().appTo(i.$root);return{set:function(t){t?e.html(t).show():e.hide()}}}()},function(e,t,n){"use strict";var r=n(2),i=r.keys,o=r.each,a=r.filter,s=r.sortBy,c=r.isStr,l=r.isNum,u=n(8),f=n(20),d=n(14),h=n(23),p=/\/$/,g=/^(.*\/)([^\/]+\/?)$/,m={},v=function(e,t){return c(e)&&e.startsWith(t)},b=function(e){e=e.replace(p,"");try{e=decodeURIComponent(e)}catch(e){}
return e},w=function(e){if(c(e))e={href:e};else if(!e||!c(e.href))return null;var t=f.forceEncoding(e.href);if(!v(t,d.rootHref))return null;var n=m[t]||y(t);return l(e.time)&&(n.time=e.time),l(e.size)&&(n.size=e.size),e.managed&&(n.isManaged=!0),e.fetched&&(n.isContentFetched=!0),n},y=function e(t){var n=function(e){if("/"===e)return{parent:null,name:"/"};var t=g.exec(e);if(!t)return null;var n={parent:t[1],name:t[2]};return n.parent&&!v(n.parent,d.rootHref)&&(n.parent=null),n}(t),r=Object.assign(Object.create(e.prototype),{absHref:t,type:h.getType(t),label:b("/"===t?f.getDomain():n.name),time:null,size:null,parent:null,isManaged:null,content:{}});return m[t]=r,n.parent&&(r.parent=w(n.parent),r.parent.content[r.absHref]=r,i(r.parent.content).length>1&&(r.parent.isContentFetched=!0)),r};y.prototype={constructor:y,isFolder:function(){return p.test(this.absHref)},isCurrentFolder:function(){return this.absHref===f.getAbsHref()},isInCurrentFolder:function(){return!!this.parent&&this.parent.isCurrentFolder()},isCurrentParentFolder:function(){var e=w(f.getAbsHref());return!!e&&this===e.parent},isDomain:function(){return "/"===this.absHref},isRoot:function(){return this.absHref===d.rootHref},isEmpty:function(){return 0===i(this.content).length},fetchContent:function(){return e=this.absHref,new Promise(function(t){var n=w(e);n.isContentFetched?t(n):u.request({action:"get",items:{href:n.absHref,what:1}}).then(function(e){e.items&&o(e.items,function(e){w(e)}),t(n)})});var e},getCrumb:function(){for(var e=this,t=[e];e.parent;)e=e.parent,t.unshift(e);return t},getSubfolders:function(){return s(a(this.content,function(e){return e.isFolder()}),function(e){return e.label.toLowerCase()})},getStats:function(){var e=0,t=0;o(this.content,function(n){n.isFolder()?e+=1:t+=1});for(var n=0,r=this;r.parent;)n+=1,r=r.parent;return{folders:e,files:t,depth:n}}},e.exports={get:w,remove:function e(t){t=f.forceEncoding(t);var n=m[t];n&&(delete m[t],n.parent&&delete n.parent.content[n.absHref],o(n.content,function(t){e(t.absHref)}))}}},function(e,t,n){"use strict";var r=n(2),i=r.each,o=r.map,a=n(7),s=/\/$/,c={};(function(e){i(e,function(e,t){var n="^("+o(e,function(e){return "("+function(e){return e.replace(/[\-\[\]\/\{\}\(\)\+\?\.\\\^\$]/g,"\\$&")}(e).replace(/\*/g,".*")+")"}).join("|")+")$";c[t]=new RegExp(n,"i")})})(Object.assign({},a.types)),e.exports={getType:function(e){if(s.test(e))return "folder";var t=e.lastIndexOf("/"),n=t>=0?e.substr(t+1):e,r=void 0;return i(c,function(e,t){c[t].test(n)&&(r=t)}),r||"file"}}},function(e,t,n){(function(e){"use strict";var t=n(12),r=n(20),i=n(14),o=e.window,a=Object.assign({enabled:!1,interval:5e3},i.autorefresh),s=null,c=function(){r.refresh()},l=function(){o.clearTimeout(s)},u=function(){o.clearTimeout(s),s=o.setTimeout(c,a.interval)};a.enabled&&(a.interval=Math.max(1e3,a.interval),t.sub("location.beforeChange",l),t.sub("location.beforeRefresh",l),t.sub("location.changed",u),t.sub("location.refreshed",u))}).call(t,function(){return this}())},function(e,t,n){"use strict";var r=n(2),i=r.each,o=r.dom,a=n(13),s=n(14),c=Object.assign({enabled:!1},s.contextmenu),l=function(e){var t=o('<div id="cm-overlay"></div>'),n=function(n){n.stopPropagation(),n.preventDefault();var r=function(e){for(;!e._cmId&&e.parentNode;)e=e.parentNode;return e._cmId}(n.target);n.target!==t[0]&&void 0===r||(t.rm(),e(r))};return t.on("contextmenu",n).on("click",n)},u=function(e){var t=o('<div class="cm-panel"><ul></ul></div>'),n=t.find("ul"),r=void 0;return i(e,function(e){"-"===e.type?o('<li class="cm-sep"></li>').appTo(n):"l"===e.type?o('<li class="cm-label"><span class="cm-text"></span></li>').appTo(n).find(".cm-text").text(e.text):"e"===e.type&&((r=o('<li class="cm-entry"><span class="cm-icon"><img/></span><span class="cm-text"></span></li>').appTo(n))[0]._cmId=e.id,r.find(".cm-text").text(e.text),e.icon?r.find(".cm-icon img").attr("src",a.icon(e.icon)):r.find(".cm-icon").addCls("no-icon"))}),t};!function(){if(c.enabled){var e=[{type:"e",id:"e1",text:"testing context menus"},{type:"e",id:"e2",text:"another entry"},{type:"e",id:"e3",text:"one with icon",icon:"folder"},{type:"-"},{type:"e",id:"e4",text:"one with icon",icon:"x"},{type:"e",id:"e5",text:"one with icon",icon:"img"}];o("#view").on("contextmenu",function(t){t.preventDefault(),function(e,t,n,r){var i=l(r),o=u(n);i.hide().app(o).appTo("body"),function(e,t,n,r){t.css({left:0,top:0,opacity:0}),e.show();var i=e[0].getBoundingClientRect(),o=t[0].getBoundingClientRect(),a=i.left,s=i.top,c=i.width,l=i.height,u=o.width,f=o.height,d=n,h=r;u>c-8&&(d=4,u=c-8),f>l-8&&(h=4,f=l-8),d<a+4&&(d=a+4),d+u>a+c-4&&(d=a+c-4-u),h<s+4&&(h=s+4),h+f>s+l-4&&(h=s+l-4-f),t.css({left:d+"px",top:h+"px",width:u+"px",height:f+"px",opacity:1})}(i,o,e,t)}(t.pageX,t.pageY,e)})}}()},function(e,t,n){"use strict";var r=n(2),i=r.each,o=r.dom,a=n(12),s=n(20),c=n(13),l=n(14),u=n(17),f=Object.assign({enabled:!1},l.crumb),d='<a class="crumb">\n            <img class="sep" src="'+c.image("crumb")+'" alt=">"/>\n            <span class="label"></span>\n        </a>',h='<img class="hint" src="'+c.icon("folder-page")+'" alt="has index page"/>',p=function(e){var t=e._$crumb,n=o("#crumbbar");t&&t.parent()[0]===n[0]?(n.children().rmCls("active"),t.addCls("active")):(n.clr(),i(e.getCrumb(),function(e){n.app(function(e){var t=o(d);return s.setLink(t,e),e.isCurrentFolder()&&t.addCls("active"),e.isManaged||t.app(o(h)),e.isDomain()?t.addCls("home"):t.find(".label").text(e.label),e._$crumb=t,t[0]._item=e,t}(e))}))};f.enabled&&(o('<div id="crumbbar"></div>').appTo(u.$flowbar),a.sub("location.changed",p))},function(e,t,n){"use strict";var r=n(28),i=n(2),o=i.each,a=i.dom,s=n(8),c=n(12),l=n(14),u=Object.assign({enabled:!1},l.custom),f=function(e){s.request({action:"get",custom:e.absHref}).then(function(e){var t=e&&e.custom;o(["header","footer"],function(e){return function(e,t){var n=a("#content-"+t);if(e&&e[t].content){var i=e[t].content;"md"===e[t].type&&(i=r(i)),n.html(i).show()}else n.hide()}(t,e)})})};u.enabled&&(a('<div id="content-header"></div>').hide().preTo("#content"),a('<div id="content-footer"></div>').hide().appTo("#content"),c.sub("location.changed",f))},function(e,t,n){(function(t){!function(t){"use strict";function n(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||v.defaults,this.rules=b.normal,this.options.pedantic?this.rules=b.pedantic:this.options.gfm&&(this.options.tables?this.rules=b.tables:this.rules=b.gfm)}
function r(e,t){if(this.options=t||v.defaults,this.links=e,this.rules=w.normal,this.renderer=this.options.renderer||new i,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.pedantic?this.rules=w.pedantic:this.options.gfm&&(this.options.breaks?this.rules=w.breaks:this.rules=w.gfm)}
function i(e){this.options=e||v.defaults}
function o(){}
function a(e){this.tokens=[],this.token=null,this.options=e||v.defaults,this.options.renderer=this.options.renderer||new i,this.renderer=this.options.renderer,this.renderer.options=this.options,this.slugger=new s}
function s(){this.seen={}}
function c(e,t){if(t){if(c.escapeTest.test(e))return e.replace(c.escapeReplace,function(e){return c.replacements[e]})}else if(c.escapeTestNoEncode.test(e))return e.replace(c.escapeReplaceNoEncode,function(e){return c.replacements[e]});return e}
function l(e){return e.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,function(e,t){return "colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}
function u(e,t){return e=e.source||e,t=t||"",{replace:function(t,n){return n=(n=n.source||n).replace(/(^|[^\[])\^/g,"$1"),e=e.replace(t,n),this},getRegex:function(){return new RegExp(e,t)}}}
function f(e,t,n){if(e){try{var r=decodeURIComponent(l(n)).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return null}
if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return null}
t&&!x.test(n)&&(n=function(e,t){return y[" "+e]||(/^[^:]+:\/*[^\/]*$/.test(e)?y[" "+e]=e+"/":y[" "+e]=g(e,"/",!0)),e=y[" "+e],"//"===t.slice(0,2)?e.replace(/:[\s\S]*/,":")+t:"/"===t.charAt(0)?e.replace(/(:\/*[^\/]*)[\s\S]*/,"$1")+t:e+t}(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(e){return null}
return n}
function d(){}
function h(e){for(var t,n,r=1;r<arguments.length;r++)
for(n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}
function p(e,t){var n=e.replace(/\|/g,function(e,t,n){for(var r=!1,i=t;--i>=0&&"\\"===n[i];)r=!r;return r?"|":" |"}).split(/ \|/),r=0;if(n.length>t)n.splice(t);else
for(;n.length<t;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n}
function g(e,t,n){if(0===e.length)return "";for(var r=0;r<e.length;){var i=e.charAt(e.length-r-1);if(i!==t||n){if(i===t||!n)break;r++}else r++}
return e.substr(0,e.length-r)}
function m(e,t){if(-1===e.indexOf(t[1]))return-1;for(var n=0,r=0;r<e.length;r++)
if("\\"===e[r])r++;else if(e[r]===t[0])n++;else if(e[r]===t[1]&&--n<0)return r;return-1}
function v(e,t,r){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if(r||"function"==typeof t){r||(r=t,t=null);var i,o,s=(t=h({},v.defaults,t||{})).highlight,l=0;try{i=n.lex(e,t)}catch(e){return r(e)}
o=i.length;var u=function(e){if(e)return t.highlight=s,r(e);var n;try{n=a.parse(i,t)}catch(t){e=t}
return t.highlight=s,e?r(e):r(null,n)};if(!s||s.length<3)return u();if(delete t.highlight,!o)return u();for(;l<i.length;l++)!function(e){"code"!==e.type?--o||u():s(e.text,e.lang,function(t,n){return t?u(t):null==n||n===e.text?--o||u():(e.text=n,e.escaped=!0,void(--o||u()))})}(i[l])}else try{return t&&(t=h({},v.defaults,t)),a.parse(n.lex(e,t),t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",(t||v.defaults).silent)return "<p>An error occurred:</p><pre>"+c(e.message+"",!0)+"</pre>";throw e}}
var b={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:d,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,nptable:d,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=\\h*\\n)[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=\\h*\\n)[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:d,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading| {0,3}>|<\/?(?:tag)(?: +|\n|\/?>)|<(?:script|pre|style|!--))[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};b.def=u(b.def).replace("label",b._label).replace("title",b._title).getRegex(),b.bullet=/(?:[*+-]|\d{1,9}\.)/,b.item=/^( *)(bull) ?[^\n]*(?:\n(?!\1bull ?)[^\n]*)*/,b.item=u(b.item,"gm").replace(/bull/g,b.bullet).getRegex(),b.list=u(b.list).replace(/bull/g,b.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+b.def.source+")").getRegex(),b._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",b._comment=/<!--(?!-?>)[\s\S]*?-->/,b.html=u(b.html,"i").replace("comment",b._comment).replace("tag",b._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),b.paragraph=u(b.paragraph).replace("hr",b.hr).replace("heading",b.heading).replace("lheading",b.lheading).replace("tag",b._tag).getRegex(),b.blockquote=u(b.blockquote).replace("paragraph",b.paragraph).getRegex(),b.normal=h({},b),b.gfm=h({},b.normal,{fences:/^ {0,3}(`{3,}|~{3,})([^`\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),b.gfm.paragraph=u(b.paragraph).replace("(?!","(?!"+b.gfm.fences.source.replace("\\1","\\2")+"|"+b.list.source.replace("\\1","\\3")+"|").getRegex(),b.tables=h({},b.gfm,{nptable:/^ *([^|\n ].*\|.*)\n *([-:]+ *\|[-| :]*)(?:\n((?:.*[^>\n ].*(?:\n|$))*)\n*|$)/,table:/^ *\|(.+)\n *\|?( *[-:]+[-| :]*)(?:\n((?: *[^>\n ].*(?:\n|$))*)\n*|$)/}),b.pedantic=h({},b.normal,{html:u("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",b._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/}),n.rules=b,n.lex=function(e,t){return new n(t).lex(e)},n.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},n.prototype.token=function(e,t){e=e.replace(/^ +$/gm,"");for(var n,r,i,o,a,s,c,l,u,f,d,h,m,v,w,y;e;)
if((i=this.rules.newline.exec(e))&&(e=e.substring(i[0].length),i[0].length>1&&this.tokens.push({type:"space"})),i=this.rules.code.exec(e))e=e.substring(i[0].length),i=i[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?i:g(i,"\n")});else if(i=this.rules.fences.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"code",lang:i[2]?i[2].trim():i[2],text:i[3]||""});else if(i=this.rules.heading.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"heading",depth:i[1].length,text:i[2]});else if(t&&(i=this.rules.nptable.exec(e))&&(s={type:"table",header:p(i[1].replace(/^ *| *\| *$/g,"")),align:i[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:i[3]?i[3].replace(/\n$/,"").split("\n"):[]}).header.length===s.align.length){for(e=e.substring(i[0].length),d=0;d<s.align.length;d++)/^ *-+: *$/.test(s.align[d])?s.align[d]="right":/^ *:-+: *$/.test(s.align[d])?s.align[d]="center":/^ *:-+ *$/.test(s.align[d])?s.align[d]="left":s.align[d]=null;for(d=0;d<s.cells.length;d++)s.cells[d]=p(s.cells[d],s.header.length);this.tokens.push(s)}else if(i=this.rules.hr.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"hr"});else if(i=this.rules.blockquote.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"blockquote_start"}),i=i[0].replace(/^ *> ?/gm,""),this.token(i,t),this.tokens.push({type:"blockquote_end"});else if(i=this.rules.list.exec(e)){for(e=e.substring(i[0].length),c={type:"list_start",ordered:v=(o=i[2]).length>1,start:v?+o:"",loose:!1},this.tokens.push(c),l=[],n=!1,m=(i=i[0].match(this.rules.item)).length,d=0;d<m;d++)f=(s=i[d]).length,~(s=s.replace(/^ *([*+-]|\d+\.) */,"")).indexOf("\n ")&&(f-=s.length,s=this.options.pedantic?s.replace(/^ {1,4}/gm,""):s.replace(new RegExp("^ {1,"+f+"}","gm"),"")),d!==m-1&&(a=b.bullet.exec(i[d+1])[0],(o.length>1?1===a.length:a.length>1||this.options.smartLists&&a!==o)&&(e=i.slice(d+1).join("\n")+e,d=m-1)),r=n||/\n\n(?!\s*$)/.test(s),d!==m-1&&(n="\n"===s.charAt(s.length-1),r||(r=n)),r&&(c.loose=!0),y=void 0,(w=/^\[[ xX]\] /.test(s))&&(y=" "!==s[1],s=s.replace(/^\[[ xX]\] +/,"")),u={type:"list_item_start",task:w,checked:y,loose:r},l.push(u),this.tokens.push(u),this.token(s,!1),this.tokens.push({type:"list_item_end"});if(c.loose)
for(m=l.length,d=0;d<m;d++)l[d].loose=!0;this.tokens.push({type:"list_end"})}else if(i=this.rules.html.exec(e))e=e.substring(i[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===i[1]||"script"===i[1]||"style"===i[1]),text:i[0]});else if(t&&(i=this.rules.def.exec(e)))e=e.substring(i[0].length),i[3]&&(i[3]=i[3].substring(1,i[3].length-1)),h=i[1].toLowerCase().replace(/\s+/g," "),this.tokens.links[h]||(this.tokens.links[h]={href:i[2],title:i[3]});else if(t&&(i=this.rules.table.exec(e))&&(s={type:"table",header:p(i[1].replace(/^ *| *\| *$/g,"")),align:i[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:i[3]?i[3].replace(/(?: *\| *)?\n$/,"").split("\n"):[]}).header.length===s.align.length){for(e=e.substring(i[0].length),d=0;d<s.align.length;d++)/^ *-+: *$/.test(s.align[d])?s.align[d]="right":/^ *:-+: *$/.test(s.align[d])?s.align[d]="center":/^ *:-+ *$/.test(s.align[d])?s.align[d]="left":s.align[d]=null;for(d=0;d<s.cells.length;d++)s.cells[d]=p(s.cells[d].replace(/^ *\| *| *\| *$/g,""),s.header.length);this.tokens.push(s)}else if(i=this.rules.lheading.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"heading",depth:"="===i[2]?1:2,text:i[1]});else if(t&&(i=this.rules.paragraph.exec(e)))e=e.substring(i[0].length),this.tokens.push({type:"paragraph",text:"\n"===i[1].charAt(i[1].length-1)?i[1].slice(0,-1):i[1]});else if(i=this.rules.text.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"text",text:i[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var w={escape:/^\\([!"#$%&'()*+,\-.\/:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:d,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(href(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,strong:/^__([^\s_])__(?!_)|^\*\*([^\s*])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,em:/^_([^\s_])_(?!_)|^\*([^\s*"<\[])\*(?!\*)|^_([^\s][\s\S]*?[^\s_])_(?!_|[^\spunctuation])|^_([^\s_][\s\S]*?[^\s])_(?!_|[^\spunctuation])|^\*([^\s"<\[][\s\S]*?[^\s*])\*(?!\*)|^\*([^\s*"<\[][\s\S]*?[^\s])\*(?!\*)/,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:d,text:/^(`+|[^`])[\s\S]*?(?=[\\<!\[`*]|\b_| {2,}\n|$)/,_punctuation:"!\"#$%&'()*+,\\-./:;<=>?@\\[^_{|}~"};w.em=u(w.em).replace(/punctuation/g,w._punctuation).getRegex(),w._escapes=/\\([!"#$%&'()*+,\-.\/:;<=>?@\[\]\\^_`{|}~])/g,w._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,w._email=/[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,w.autolink=u(w.autolink).replace("scheme",w._scheme).replace("email",w._email).getRegex(),w._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,w.tag=u(w.tag).replace("comment",b._comment).replace("attribute",w._attribute).getRegex(),w._label=/(?:\[[^\[\]]*\]|\\[\[\]]?|`[^`]*`|[^\[\]\\])*?/,w._href=/\s*(<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*)/,w._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,w.link=u(w.link).replace("label",w._label).replace("href",w._href).replace("title",w._title).getRegex(),w.reflink=u(w.reflink).replace("label",w._label).getRegex(),w.normal=h({},w),w.pedantic=h({},w.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,link:u(/^!?\[(label)\]\((.*?)\)/).replace("label",w._label).getRegex(),reflink:u(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",w._label).getRegex()}),w.gfm=h({},w.normal,{escape:u(w.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:u(w.text).replace("]|","~]|").replace("|$","|https?://|ftp://|www\\.|[a-zA-Z0-9.!#$%&'*+/=?^_`{\\|}~-]+@|$").getRegex()}),w.gfm.url=u(w.gfm.url,"i").replace("email",w.gfm._extended_email).getRegex(),w.breaks=h({},w.gfm,{br:u(w.br).replace("{2,}","*").getRegex(),text:u(w.gfm.text).replace("{2,}","*").getRegex()}),r.rules=w,r.output=function(e,t,n){return new r(t,n).output(e)},r.prototype.output=function(e){for(var t,n,i,o,a,s,l="";e;)
if(a=this.rules.escape.exec(e))e=e.substring(a[0].length),l+=c(a[1]);else if(a=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(a[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(a[0])&&(this.inLink=!1),!this.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(a[0])?this.inRawBlock=!0:this.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(a[0])&&(this.inRawBlock=!1),e=e.substring(a[0].length),l+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(a[0]):c(a[0]):a[0];else if(a=this.rules.link.exec(e)){var u=m(a[2],"()");if(u>-1){var f=a[2].length-u;a[2]=a[2].substring(0,u),a[0]=a[0].substring(0,a[0].length-f)}
e=e.substring(a[0].length),this.inLink=!0,i=a[2],this.options.pedantic?(t=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i))?(i=t[1],o=t[3]):o="":o=a[3]?a[3].slice(1,-1):"",i=i.trim().replace(/^<([\s\S]*)>$/,"$1"),l+=this.outputLink(a,{href:r.escapes(i),title:r.escapes(o)}),this.inLink=!1}else if((a=this.rules.reflink.exec(e))||(a=this.rules.nolink.exec(e))){if(e=e.substring(a[0].length),t=(a[2]||a[1]).replace(/\s+/g," "),!(t=this.links[t.toLowerCase()])||!t.href){l+=a[0].charAt(0),e=a[0].substring(1)+e;continue}
this.inLink=!0,l+=this.outputLink(a,t),this.inLink=!1}else if(a=this.rules.strong.exec(e))e=e.substring(a[0].length),l+=this.renderer.strong(this.output(a[4]||a[3]||a[2]||a[1]));else if(a=this.rules.em.exec(e))e=e.substring(a[0].length),l+=this.renderer.em(this.output(a[6]||a[5]||a[4]||a[3]||a[2]||a[1]));else if(a=this.rules.code.exec(e))e=e.substring(a[0].length),l+=this.renderer.codespan(c(a[2].trim(),!0));else if(a=this.rules.br.exec(e))e=e.substring(a[0].length),l+=this.renderer.br();else if(a=this.rules.del.exec(e))e=e.substring(a[0].length),l+=this.renderer.del(this.output(a[1]));else if(a=this.rules.autolink.exec(e))e=e.substring(a[0].length),"@"===a[2]?i="mailto:"+(n=c(this.mangle(a[1]))):i=n=c(a[1]),l+=this.renderer.link(i,null,n);else if(this.inLink||!(a=this.rules.url.exec(e))){if(a=this.rules.text.exec(e))e=e.substring(a[0].length),l+=this.inRawBlock?this.renderer.text(a[0]):this.renderer.text(c(this.smartypants(a[0])));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else{if("@"===a[2])i="mailto:"+(n=c(a[0]));else{do{s=a[0],a[0]=this.rules._backpedal.exec(a[0])[0]}while(s!==a[0]);n=c(a[0]),i="www."===a[1]?"http://"+n:n}
e=e.substring(a[0].length),l+=this.renderer.link(i,null,n)}
return l},r.escapes=function(e){return e?e.replace(r.rules._escapes,"$1"):e},r.prototype.outputLink=function(e,t){var n=t.href,r=t.title?c(t.title):null;return "!"!==e[0].charAt(0)?this.renderer.link(n,r,this.output(e[1])):this.renderer.image(n,r,c(e[1]))},r.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014\/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014\/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):e},r.prototype.mangle=function(e){if(!this.options.mangle)return e;for(var t,n="",r=e.length,i=0;i<r;i++)t=e.charCodeAt(i),Math.random()>.5&&(t="x"+t.toString(16)),n+="&#"+t+";";return n},i.prototype.code=function(e,t,n){var r=(t||"").match(/\S*/)[0];if(this.options.highlight){var i=this.options.highlight(e,r);null!=i&&i!==e&&(n=!0,e=i)}
return r?'<pre><code class="'+this.options.langPrefix+c(r,!0)+'">'+(n?e:c(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:c(e,!0))+"</code></pre>"},i.prototype.blockquote=function(e){return "<blockquote>\n"+e+"</blockquote>\n"},i.prototype.html=function(e){return e},i.prototype.heading=function(e,t,n,r){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+r.slug(n)+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"},i.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},i.prototype.list=function(e,t,n){var r=t?"ol":"ul";return "<"+r+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+r+">\n"},i.prototype.listitem=function(e){return "<li>"+e+"</li>\n"},i.prototype.checkbox=function(e){return "<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},i.prototype.paragraph=function(e){return "<p>"+e+"</p>\n"},i.prototype.table=function(e,t){return t&&(t="<tbody>"+t+"</tbody>"),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"},i.prototype.tablerow=function(e){return "<tr>\n"+e+"</tr>\n"},i.prototype.tablecell=function(e,t){var n=t.header?"th":"td";return(t.align?"<"+n+' align="'+t.align+'">':"<"+n+">")+e+"</"+n+">\n"},i.prototype.strong=function(e){return "<strong>"+e+"</strong>"},i.prototype.em=function(e){return "<em>"+e+"</em>"},i.prototype.codespan=function(e){return "<code>"+e+"</code>"},i.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},i.prototype.del=function(e){return "<del>"+e+"</del>"},i.prototype.link=function(e,t,n){if(null===(e=f(this.options.sanitize,this.options.baseUrl,e)))return n;var r='<a href="'+c(e)+'"';return t&&(r+=' title="'+t+'"'),r+">"+n+"</a>"},i.prototype.image=function(e,t,n){if(null===(e=f(this.options.sanitize,this.options.baseUrl,e)))return n;var r='<img src="'+e+'" alt="'+n+'"';return t&&(r+=' title="'+t+'"'),r+(this.options.xhtml?"/>":">")},i.prototype.text=function(e){return e},o.prototype.strong=o.prototype.em=o.prototype.codespan=o.prototype.del=o.prototype.text=function(e){return e},o.prototype.link=o.prototype.image=function(e,t,n){return ""+n},o.prototype.br=function(){return ""},a.parse=function(e,t){return new a(t).parse(e)},a.prototype.parse=function(e){this.inline=new r(e.links,this.options),this.inlineText=new r(e.links,h({},this.options,{renderer:new o})),this.tokens=e.reverse();for(var t="";this.next();)t+=this.tok();return t},a.prototype.next=function(){return this.token=this.tokens.pop()},a.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},a.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},a.prototype.tok=function(){switch(this.token.type){case "space":return "";case "hr":return this.renderer.hr();case "heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,l(this.inlineText.output(this.token.text)),this.slugger);case "code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case "table":var e,t,n,r,i="",o="";for(n="",e=0;e<this.token.header.length;e++)n+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(i+=this.renderer.tablerow(n),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],n="",r=0;r<t.length;r++)n+=this.renderer.tablecell(this.inline.output(t[r]),{header:!1,align:this.token.align[r]});o+=this.renderer.tablerow(n)}
return this.renderer.table(i,o);case "blockquote_start":for(o="";"blockquote_end"!==this.next().type;)o+=this.tok();return this.renderer.blockquote(o);case "list_start":o="";for(var a=this.token.ordered,s=this.token.start;"list_end"!==this.next().type;)o+=this.tok();return this.renderer.list(o,a,s);case "list_item_start":o="";var c=this.token.loose;for(this.token.task&&(o+=this.renderer.checkbox(this.token.checked));"list_item_end"!==this.next().type;)o+=c||"text"!==this.token.type?this.tok():this.parseText();return this.renderer.listitem(o);case "html":return this.renderer.html(this.token.text);case "paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case "text":return this.renderer.paragraph(this.parseText());default:var u='Token with "'+this.token.type+'" type was not found.';if(!this.options.silent)throw new Error(u);console.log(u)}},s.prototype.slug=function(e){var t=e.toLowerCase().trim().replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,.\/:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-");if(this.seen.hasOwnProperty(t)){var n=t;do{this.seen[n]++,t=n+"-"+this.seen[n]}while(this.seen.hasOwnProperty(t))}
return this.seen[t]=0,t},c.escapeTest=/[&<>"']/,c.escapeReplace=/[&<>"']/g,c.replacements={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},c.escapeTestNoEncode=/[<>"']|&(?!#?\w+;)/,c.escapeReplaceNoEncode=/[<>"']|&(?!#?\w+;)/g;var y={},x=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;d.exec=d,v.options=v.setOptions=function(e){return h(v.defaults,e),v},v.getDefaults=function(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:new i,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tables:!0,xhtml:!1}},v.defaults=v.getDefaults(),v.Parser=a,v.parser=a.parse,v.Renderer=i,v.TextRenderer=o,v.Lexer=n,v.lexer=n.lex,v.InlineLexer=r,v.inlineLexer=r.output,v.Slugger=s,v.parse=v,e.exports=v}(this||"undefined"!=typeof window&&window)}).call(t,function(){return this}())},function(e,t,n){"use strict";var r=n(2),i=r.each,o=r.dom,a=n(8),s=n(12),c=n(20),l=n(13),u=n(14),f=Object.assign({enabled:!1,type:"php-tar",packageName:"package",alwaysVisible:!1},u.download),d='<div id="download" class="tool">\n            <img src="'+l.image("download")+'" alt="download"/>\n        </div>',h=[],p=void 0,g=function(e){(h=e.slice(0)).length?p.show():f.alwaysVisible||p.hide()},m=function(){var e=f.type,t=f.packageName,n="shell-zip"===e?"zip":"tar";t||(t=1===h.length?h[0].label:c.getItem().label);var r={action:"download",as:t+"."+n,type:e,baseHref:c.getAbsHref(),hrefs:""};i(h,function(e,t){r["hrefs["+t+"]"]=e.absHref}),a.formRequest(r)};f.enabled&&(p=o(d).hide().appTo("#toolbar").on("click",m),f.alwaysVisible&&p.show(),s.sub("selection",g))},function(e,t,n){"use strict";var r=n(2),i=r.filter,o=r.debounce,a=r.parsePattern,s=r.dom,c=n(12),l=n(20),u=n(13),f=n(14),d=n(18),h=Object.assign({enabled:!1,advanced:!1,debounceTime:100,ignorecase:!0},f.filter),p='<div id="filter" class="tool">\n            <img src="'+u.image("filter")+'" alt="filter"/>\n            <input class="l10n_ph-filter" type="text" value=""/>\n        </div>',g=!1,m="",v=void 0,b=void 0,w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(e!==m){if(m=e,!e)return void d.setLocation();v.addCls("pending");var t=new RegExp(e,h.ignorecase?"i":""),n=i(l.getItem().content,function(e){return t.test(e.label)});v.rmCls("pending"),d.setHint("noMatch"),d.setItems(n)}},y=function(){g?(v.addCls("active"),b[0].focus(),w(a(b.val(),h.advanced))):(w(),v.rmCls("active"))},x=function(){g=!g,y()},k=function(){g=!1,b.val(""),y()};h.enabled&&(v=s(p).appTo("#toolbar"),b=v.find("input"),v.find("img").on("click",x),b.on("keyup",o(y,h.debounceTime)),c.sub("location.changed",k))},function(e,t,n){(function(e){"use strict";var t=n(2).map,r=n(12),i=n(14),o=e.window,a=Object.assign({enabled:!1,id:"UA-000000-0"},i["google-analytics-ua"]);a.enabled&&(function(){var e,t,n,r,i,o;e=window,t=document,n="script",r="ga",e.GoogleAnalyticsObject=r,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,i=t.createElement(n),o=t.getElementsByTagName(n)[0],i.async=1,i.src="//www.google-analytics.com/analytics.js",o.parentNode.insertBefore(i,o)}(),o.ga("create",a.id,"auto"),r.sub("location.changed",function(e){var n=o.location;o.ga("send","pageview",{location:n.protocol+"//"+n.host+e.absHref,title:t(e.getCrumb(),function(e){return e.label}).join(" > ")})}))}).call(t,function(){return this}())},function(e,t,n){(function(e){"use strict";var t=n(33),r=n(2),i=r.isNum,o=r.dom,a=n(12),s=n(19),c=n(13),l=n(14),u=n(16),f=Object.assign({enabled:!1,show:!1,qrcode:!0,qrColor:"#999"},l.info),d='<div class="block">\n            <h1 class="l10n-info">Info</h1>\n            <div id="view-info" class="button view">\n                <img src="'+c.image("info-toggle")+'" alt="view-info"/>\n            </div>\n        </div>',h="ext/info",p=void 0,g=void 0,m=void 0,v=void 0,b=void 0,w=void 0,y=void 0,x=void 0,k=void 0,C=function(){u.get(h)?(o("#view-info").addCls("active"),o("#info").show()):(o("#view-info").rmCls("active"),o("#info").hide())},S=function(n){var r=n.thumbRational||n.icon,o=!!n.thumbRational;if(!n.isCurrentFolder()&&r||(r=c.icon("folder")),p.attr("src",r),o?p.addCls("thumb"):p.rmCls("thumb"),g.text(n.label),i(n.time)?m.text(s.formatDate(n.time)):m.text("."),i(n.size)?(v.text(s.formatSize(n.size)),v.show()):v.hide(),n.isContentFetched){var a=n.getStats();w.text(a.folders),y.text(a.files),b.show()}else b.hide();if(f.qrcode){var l=e.window.location;x.clr().app(t({render:"image",size:200,fill:f.qrFill,back:f.qrBack,text:l.protocol+"//"+l.host+n.absHref,crisp:!0,quiet:1}))}},_=function(e){S(e)},A=function(){S(k)},T=function(e){S(k=e)};!function(){if(f.enabled){var e=o('<div id="info">\n            <div class="icon"><img/></div>\n            <div class="block">\n                <div class="label"></div>\n                <div class="time"></div>\n                <div class="size"></div>\n                <div class="content">\n                    <span class="folders"></span> <span class="l10n-folders"></span>,\n                    <span class="files"></span> <span class="l10n-files"></span>\n                </div>\n            </div>\n            <div class="qrcode"/>\n        </div>').hide().appTo("#mainrow");p=e.find(".icon img"),g=e.find(".label"),m=e.find(".time"),v=e.find(".size"),b=e.find(".content"),w=e.find(".folders"),y=e.find(".files"),x=e.find(".qrcode"),f.qrcode||x.rm(),o(d).appTo("#sidebar").find("#view-info").on("click",function(e){u.put(h,!u.get(h)),C(),a.pub("resize"),e.preventDefault()}),"boolean"!=typeof u.get(h)&&u.put(h,f.show),C(),a.sub("location.changed",T),a.sub("item.mouseenter",_),a.sub("item.mouseleave",A)}}()}).call(t,function(){return this}())},function(e,t,n){var r,i,o;!function(t,n){e.exports=n()}(0,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}
var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";var r=n(1),i=r.createCanvas,o=r.canvasToImg,a=r.dpr,s=n(2),c=n(3),l=n(4);e.exports=function(e){var t=Object.assign({},s,e),n=c(t.text,t.ecLevel,t.minVersion,t.quiet),r=t.ratio||a,u=i(t.size,r),f=u.getContext("2d");return f.scale(r,r),l(n,f,t),"image"===t.render?o(u):u}},function(e,t){"use strict";var n=window,r=n.document,i=n.devicePixelRatio||1,o=function(e){return r.createElement(e)},a=function(e,t){return e.getAttribute(t)},s=function(e,t,n){return e.setAttribute(t,n)};e.exports={createCanvas:function(e,t){var n=o("canvas");return s(n,"width",e*t),s(n,"height",e*t),n.style.width=e+"px",n.style.height=e+"px",n},canvasToImg:function(e){var t=o("img");return s(t,"crossorigin","anonymous"),s(t,"src",e.toDataURL("image/png")),s(t,"width",a(e,"width")),s(t,"height",a(e,"height")),t.style.width=e.style.width,t.style.height=e.style.height,t},dpr:i}},function(e,t){"use strict";e.exports={render:"image",crisp:!0,minVersion:1,ecLevel:"L",size:200,ratio:null,fill:"#333",back:"#fff",text:"no text",rounded:0,quiet:0,mode:"plain",mSize:30,mPosX:50,mPosY:50,label:"no label",fontname:"sans",fontcolor:"#333",image:null}},function(n,a){"use strict";var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=/code length overflow/i,l=function(){var n=function(){function e(t,n){if(void 0===t.length)throw new Error(t.length+"/"+n);var r=function(){for(var e=0;e<t.length&&0==t[e];)e+=1;for(var r=new Array(t.length-e+n),i=0;i<t.length-e;i+=1)r[i]=t[i+e];return r}(),i={getAt:function(e){return r[e]},getLength:function(){return r.length},multiply:function(t){for(var n=new Array(i.getLength()+t.getLength()-1),r=0;r<i.getLength();r+=1)
for(var o=0;o<t.getLength();o+=1)n[r+o]^=m.gexp(m.glog(i.getAt(r))+m.glog(t.getAt(o)));return e(n,0)},mod:function(t){if(i.getLength()-t.getLength()<0)return i;for(var n=m.glog(i.getAt(0))-m.glog(t.getAt(0)),r=new Array(i.getLength()),o=0;o<i.getLength();o+=1)r[o]=i.getAt(o);for(o=0;o<t.getLength();o+=1)r[o]^=m.gexp(m.glog(t.getAt(o))+n);return e(r,0).mod(t)}};return i}
var t=function(t,n){var r=t,i=a[n],o=null,s=0,c=null,l=new Array,u={},f=function(e,t){o=function(e){for(var t=new Array(e),n=0;n<e;n+=1){t[n]=new Array(e);for(var r=0;r<e;r+=1)t[n][r]=null}
return t}(s=4*r+17),d(0,0),d(s-7,0),d(0,s-7),p(),h(),y(e,t),r>=7&&m(e),null==c&&(c=S(r,i,l)),x(c,t)},d=function(e,t){for(var n=-1;n<=7;n+=1)
if(!(e+n<=-1||s<=e+n))
for(var r=-1;r<=7;r+=1)t+r<=-1||s<=t+r||(o[e+n][t+r]=0<=n&&n<=6&&(0==r||6==r)||0<=r&&r<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=r&&r<=4)},h=function(){for(var e=8;e<s-8;e+=1)null==o[e][6]&&(o[e][6]=e%2==0);for(var t=8;t<s-8;t+=1)null==o[6][t]&&(o[6][t]=t%2==0)},p=function(){for(var e=g.getPatternPosition(r),t=0;t<e.length;t+=1)
for(var n=0;n<e.length;n+=1){var i=e[t],a=e[n];if(null==o[i][a])
for(var s=-2;s<=2;s+=1)
for(var c=-2;c<=2;c+=1)o[i+s][a+c]=-2==s||2==s||-2==c||2==c||0==s&&0==c}},m=function(e){for(var t=g.getBCHTypeNumber(r),n=0;n<18;n+=1){var i=!e&&1==(t>>n&1);o[Math.floor(n/3)][n%3+s-8-3]=i}
for(n=0;n<18;n+=1){i=!e&&1==(t>>n&1);o[n%3+s-8-3][Math.floor(n/3)]=i}},y=function(e,t){for(var n=i<<3|t,r=g.getBCHTypeInfo(n),a=0;a<15;a+=1){var c=!e&&1==(r>>a&1);a<6?o[a][8]=c:a<8?o[a+1][8]=c:o[s-15+a][8]=c}
for(a=0;a<15;a+=1){c=!e&&1==(r>>a&1);a<8?o[8][s-a-1]=c:a<9?o[8][15-a-1+1]=c:o[8][15-a-1]=c}
o[s-8][8]=!e},x=function(e,t){for(var n=-1,r=s-1,i=7,a=0,c=g.getMaskFunction(t),l=s-1;l>0;l-=2)
for(6==l&&(l-=1);;){for(var u=0;u<2;u+=1)
if(null==o[r][l-u]){var f=!1;a<e.length&&(f=1==(e[a]>>>i&1)),c(r,l-u)&&(f=!f),o[r][l-u]=f,-1==(i-=1)&&(a+=1,i=7)}if((r+=n)<0||s<=r){r-=n,n=-n;break}}},k=function(t,n){for(var r=0,i=0,o=0,a=new Array(n.length),s=new Array(n.length),c=0;c<n.length;c+=1){var l=n[c].dataCount,u=n[c].totalCount-l;i=Math.max(i,l),o=Math.max(o,u),a[c]=new Array(l);for(var f=0;f<a[c].length;f+=1)a[c][f]=255&t.getBuffer()[f+r];r+=l;var d=g.getErrorCorrectPolynomial(u),h=e(a[c],d.getLength()-1).mod(d);s[c]=new Array(d.getLength()-1);for(f=0;f<s[c].length;f+=1){var p=f+h.getLength()-s[c].length;s[c][f]=p>=0?h.getAt(p):0}}
var m=0;for(f=0;f<n.length;f+=1)m+=n[f].totalCount;var v=new Array(m),b=0;for(f=0;f<i;f+=1)
for(c=0;c<n.length;c+=1)f<a[c].length&&(v[b]=a[c][f],b+=1);for(f=0;f<o;f+=1)
for(c=0;c<n.length;c+=1)f<s[c].length&&(v[b]=s[c][f],b+=1);return v},S=function(e,t,n){for(var r=v.getRSBlocks(e,t),i=b(),o=0;o<n.length;o+=1){var a=n[o];i.put(a.getMode(),4),i.put(a.getLength(),g.getLengthInBits(a.getMode(),e)),a.write(i)}
var s=0;for(o=0;o<r.length;o+=1)s+=r[o].dataCount;if(i.getLengthInBits()>8*s)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+8*s+")");for(i.getLengthInBits()+4<=8*s&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=8*s||(i.put(236,8),i.getLengthInBits()>=8*s));)i.put(17,8);return k(i,r)};return u.addData=function(e){var t=w(e);l.push(t),c=null},u.isDark=function(e,t){if(e<0||s<=e||t<0||s<=t)throw new Error(e+","+t);return o[e][t]},u.getModuleCount=function(){return s},u.make=function(){f(!1,function(){for(var e=0,t=0,n=0;n<8;n+=1){f(!0,n);var r=g.getLostPoint(u);(0==n||e>r)&&(e=r,t=n)}
return t}())},u.createTableTag=function(e,t){e=e||2;var n="";n+='<table style="',n+=" border-width: 0px; border-style: none;",n+=" border-collapse: collapse;",n+=" padding: 0px; margin: "+(t=void 0===t?4*e:t)+"px;",n+='">',n+="<tbody>";for(var r=0;r<u.getModuleCount();r+=1){n+="<tr>";for(var i=0;i<u.getModuleCount();i+=1)n+='<td style="',n+=" border-width: 0px; border-style: none;",n+=" border-collapse: collapse;",n+=" padding: 0px; margin: 0px;",n+=" width: "+e+"px;",n+=" height: "+e+"px;",n+=" background-color: ",n+=u.isDark(r,i)?"#000000":"#ffffff",n+=";",n+='"/>';n+="</tr>"}
return(n+="</tbody>")+"</table>"},u.createImgTag=function(e,t){e=e||2,t=void 0===t?4*e:t;var n=u.getModuleCount()*e+2*t,r=t,i=n-t;return C(n,n,function(t,n){if(r<=t&&t<i&&r<=n&&n<i){var o=Math.floor((t-r)/e),a=Math.floor((n-r)/e);return u.isDark(a,o)?0:1}
return 1})},u};t.stringToBytes=function(e){for(var t=new Array,n=0;n<e.length;n+=1){var r=e.charCodeAt(n);t.push(255&r)}
return t},t.createStringToBytes=function(e,t){var n=function(){for(var n=x(e),r=function(){var e=n.read();if(-1==e)throw new Error;return e},i=0,o={};;){var a=n.read();if(-1==a)break;var s=r(),c=r()<<8|r();o[String.fromCharCode(a<<8|s)]=c,i+=1}
if(i!=t)throw new Error(i+" != "+t);return o}(),r="?".charCodeAt(0);return function(e){for(var t=new Array,i=0;i<e.length;i+=1){var o=e.charCodeAt(i);if(o<128)t.push(o);else{var a=n[e.charAt(i)];"number"==typeof a?(255&a)==a?t.push(a):(t.push(a>>>8),t.push(255&a)):t.push(r)}}
return t}};var n=1,r=2,i=4,o=8,a={L:1,M:0,Q:3,H:2},s=0,c=1,l=2,u=3,f=4,d=5,h=6,p=7,g=function(){var t=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],a=1335,g=7973,v={},b=function(e){for(var t=0;0!=e;)t+=1,e>>>=1;return t};return v.getBCHTypeInfo=function(e){for(var t=e<<10;b(t)-b(a)>=0;)t^=a<<b(t)-b(a);return 21522^(e<<10|t)},v.getBCHTypeNumber=function(e){for(var t=e<<12;b(t)-b(g)>=0;)t^=g<<b(t)-b(g);return e<<12|t},v.getPatternPosition=function(e){return t[e-1]},v.getMaskFunction=function(e){switch(e){case s:return function(e,t){return(e+t)%2==0};case c:return function(e,t){return e%2==0};case l:return function(e,t){return t%3==0};case u:return function(e,t){return(e+t)%3==0};case f:return function(e,t){return(Math.floor(e/2)+Math.floor(t/3))%2==0};case d:return function(e,t){return e*t%2+e*t%3==0};case h:return function(e,t){return(e*t%2+e*t%3)%2==0};case p:return function(e,t){return(e*t%3+(e+t)%2)%2==0};default:throw new Error("bad maskPattern:"+e)}},v.getErrorCorrectPolynomial=function(t){for(var n=e([1],0),r=0;r<t;r+=1)n=n.multiply(e([1,m.gexp(r)],0));return n},v.getLengthInBits=function(e,t){if(1<=t&&t<10)switch(e){case n:return 10;case r:return 9;case i:case o:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case n:return 12;case r:return 11;case i:return 16;case o:return 10;default:throw new Error("mode:"+e)}else{if(!(t<41))throw new Error("type:"+t);switch(e){case n:return 14;case r:return 13;case i:return 16;case o:return 12;default:throw new Error("mode:"+e)}}},v.getLostPoint=function(e){for(var t=e.getModuleCount(),n=0,r=0;r<t;r+=1)
for(var i=0;i<t;i+=1){for(var o=0,a=e.isDark(r,i),s=-1;s<=1;s+=1)
if(!(r+s<0||t<=r+s))
for(var c=-1;c<=1;c+=1)i+c<0||t<=i+c||0==s&&0==c||a==e.isDark(r+s,i+c)&&(o+=1);o>5&&(n+=3+o-5)}
for(r=0;r<t-1;r+=1)
for(i=0;i<t-1;i+=1){var l=0;e.isDark(r,i)&&(l+=1),e.isDark(r+1,i)&&(l+=1),e.isDark(r,i+1)&&(l+=1),e.isDark(r+1,i+1)&&(l+=1),0!=l&&4!=l||(n+=3)}
for(r=0;r<t;r+=1)
for(i=0;i<t-6;i+=1)e.isDark(r,i)&&!e.isDark(r,i+1)&&e.isDark(r,i+2)&&e.isDark(r,i+3)&&e.isDark(r,i+4)&&!e.isDark(r,i+5)&&e.isDark(r,i+6)&&(n+=40);for(i=0;i<t;i+=1)
for(r=0;r<t-6;r+=1)e.isDark(r,i)&&!e.isDark(r+1,i)&&e.isDark(r+2,i)&&e.isDark(r+3,i)&&e.isDark(r+4,i)&&!e.isDark(r+5,i)&&e.isDark(r+6,i)&&(n+=40);var u=0;for(i=0;i<t;i+=1)
for(r=0;r<t;r+=1)e.isDark(r,i)&&(u+=1);return n+10*(Math.abs(100*u/t/t-50)/5)},v}(),m=function(){for(var e=new Array(256),t=new Array(256),n=0;n<8;n+=1)e[n]=1<<n;for(n=8;n<256;n+=1)e[n]=e[n-4]^e[n-5]^e[n-6]^e[n-8];for(n=0;n<255;n+=1)t[e[n]]=n;var r={glog:function(e){if(e<1)throw new Error("glog("+e+")");return t[e]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return e[t]}};return r}(),v=function(){var e=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],t=function(e,t){var n={};return n.totalCount=e,n.dataCount=t,n},n={},r=function(t,n){switch(n){case a.L:return e[4*(t-1)+0];case a.M:return e[4*(t-1)+1];case a.Q:return e[4*(t-1)+2];case a.H:return e[4*(t-1)+3];default:return}};return n.getRSBlocks=function(e,n){var i=r(e,n);if(void 0===i)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+n);for(var o=i.length/3,a=new Array,s=0;s<o;s+=1)
for(var c=i[3*s+0],l=i[3*s+1],u=i[3*s+2],f=0;f<c;f+=1)a.push(t(l,u));return a},n}(),b=function(){var e=new Array,t=0,n={getBuffer:function(){return e},getAt:function(t){var n=Math.floor(t/8);return 1==(e[n]>>>7-t%8&1)},put:function(e,t){for(var r=0;r<t;r+=1)n.putBit(1==(e>>>t-r-1&1))},getLengthInBits:function(){return t},putBit:function(n){var r=Math.floor(t/8);e.length<=r&&e.push(0),n&&(e[r]|=128>>>t%8),t+=1}};return n},w=function(e){var n=i,r=t.stringToBytes(e),o={getMode:function(){return n},getLength:function(e){return r.length},write:function(e){for(var t=0;t<r.length;t+=1)e.put(r[t],8)}};return o},y=function(){var e=new Array,t={writeByte:function(t){e.push(255&t)},writeShort:function(e){t.writeByte(e),t.writeByte(e>>>8)},writeBytes:function(e,n,r){n=n||0,r=r||e.length;for(var i=0;i<r;i+=1)t.writeByte(e[i+n])},writeString:function(e){for(var n=0;n<e.length;n+=1)t.writeByte(e.charCodeAt(n))},toByteArray:function(){return e},toString:function(){var t="";t+="[";for(var n=0;n<e.length;n+=1)n>0&&(t+=","),t+=e[n];return t+"]"}};return t},x=function(e){var t=e,n=0,r=0,i=0,o={read:function(){for(;i<8;){if(n>=t.length){if(0==i)return-1;throw new Error("unexpected end of file./"+i)}
var e=t.charAt(n);if(n+=1,"="==e)return i=0,-1;e.match(/^\s$/)||(r=r<<6|a(e.charCodeAt(0)),i+=6)}
var o=r>>>i-8&255;return i-=8,o}},a=function(e){if(65<=e&&e<=90)return e-65;if(97<=e&&e<=122)return e-97+26;if(48<=e&&e<=57)return e-48+52;if(43==e)return 62;if(47==e)return 63;throw new Error("c:"+e)};return o},k=function(e,t){var n=e,r=t,i=new Array(e*t),o={setPixel:function(e,t,r){i[t*n+e]=r},write:function(e){e.writeString("GIF87a"),e.writeShort(n),e.writeShort(r),e.writeByte(128),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(255),e.writeByte(255),e.writeByte(255),e.writeString(","),e.writeShort(0),e.writeShort(0),e.writeShort(n),e.writeShort(r),e.writeByte(0);var t=a(2);e.writeByte(2);for(var i=0;t.length-i>255;)e.writeByte(255),e.writeBytes(t,i,255),i+=255;e.writeByte(t.length-i),e.writeBytes(t,i,t.length-i),e.writeByte(0),e.writeString(";")}},a=function(e){for(var t=1<<e,n=1+(1<<e),r=e+1,o=s(),a=0;a<t;a+=1)o.add(String.fromCharCode(a));o.add(String.fromCharCode(t)),o.add(String.fromCharCode(n));var c=y(),l=function(e){var t=e,n=0,r=0,i={write:function(e,i){if(e>>>i!=0)throw new Error("length over");for(;n+i>=8;)t.writeByte(255&(e<<n|r)),i-=8-n,e>>>=8-n,r=0,n=0;r|=e<<n,n+=i},flush:function(){n>0&&t.writeByte(r)}};return i}(c);l.write(t,r);var u=0,f=String.fromCharCode(i[u]);for(u+=1;u<i.length;){var d=String.fromCharCode(i[u]);u+=1,o.contains(f+d)?f+=d:(l.write(o.indexOf(f),r),o.size()<4095&&(o.size()==1<<r&&(r+=1),o.add(f+d)),f=d)}
return l.write(o.indexOf(f),r),l.write(n,r),l.flush(),c.toByteArray()},s=function(){var e={},t=0,n={add:function(r){if(n.contains(r))throw new Error("dup key:"+r);e[r]=t,t+=1},size:function(){return t},indexOf:function(t){return e[t]},contains:function(t){return void 0!==e[t]}};return n};return o},C=function(e,t,n,r){for(var i=k(e,t),o=0;o<t;o+=1)
for(var a=0;a<e;a+=1)i.setPixel(a,o,n(a,o));var s=y();i.write(s);for(var c=function(){var e=0,t=0,n=0,r="",i={},o=function(e){r+=String.fromCharCode(a(63&e))},a=function(e){if(e<0);else{if(e<26)return 65+e;if(e<52)return e-26+97;if(e<62)return e-52+48;if(62==e)return 43;if(63==e)return 47}
throw new Error("n:"+e)};return i.writeByte=function(r){for(e=e<<8|255&r,t+=8,n+=1;t>=6;)o(e>>>t-6),t-=6},i.flush=function(){if(t>0&&(o(e<<6-t),e=0,t=0),n%3!=0)
for(var i=3-n%3,a=0;a<i;a+=1)r+="="},i.toString=function(){return r},i}(),l=s.toByteArray(),u=0;u<l.length;u+=1)c.writeByte(l[u]);c.flush();var f="";return f+="<img",f+=' src="',f+="data:image/gif;base64,",f+=c,f+='"',f+=' width="',f+=e,f+='"',f+=' height="',f+=t,f+='"',r&&(f+=' alt="',f+=r,f+='"'),f+"/>"};return t}();return function(n){i=[],void 0===(o="function"==typeof(r=n)?r.apply(t,i):r)||(e.exports=o)}(function(){return n}),n.stringToBytes=function(e){return function(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t.push(r):r<2048?t.push(192|r>>6,128|63&r):r<55296||r>=57344?t.push(224|r>>12,128|r>>6&63,128|63&r):(n++,r=65536+((1023&r)<<10|1023&e.charCodeAt(n)),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r))}
return t}(e)},n}();n.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"L",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=n=Math.max(1,n);r<=40;r+=1)try{var i=function(){var n=l(r,t);n.addData(e),n.make();var i=n.getModuleCount();return{v:{text:e,level:t,version:r,moduleCount:i,isDark:function(e,t){return e>=0&&e<i&&t>=0&&t<i&&n.isDark(e,t)}}}}();if("object"===(void 0===i?"undefined":s(i)))return i.v}catch(e){if(!c.test(e.message))throw e}
return null}(e,t,n);if(i){var o=i.isDark;i.moduleCount+=2*r,i.isDark=function(e,t){return o(e-r,t-r)}}
return i}},function(e,t,n){"use strict";var r=n(5),i=n(6),o=function(e,t,n,r,i,o){e.isDark(i,o)&&t.rect(o*r,i*r,r,r)};e.exports=function(e,t,n){(function(e,t){e.fillStyle=t.back,e.fillRect(0,0,t.size,t.size)})(t,n),function(e,t,n){if(e){var i=n.rounded>0&&n.rounded<=100?r:o,a=e.moduleCount,s=n.size/a,c=0;n.crisp&&(s=Math.floor(s),c=Math.floor((n.size-s*a)/2)),t.translate(c,c),t.beginPath();for(var l=0;l<a;l+=1)
for(var u=0;u<a;u+=1)i(e,t,n,s,l,u);t.fillStyle=n.fill,t.fill(),t.translate(-c,-c)}}(e,t,n),i(t,n)}},function(e,t){"use strict";e.exports=function(e,t,n,r,i,o){var a=o*r,s=i*r,c=a+r,l=s+r,u=.005*n.rounded*r,f=e.isDark,d=i-1,h=i+1,p=o-1,g=o+1,m=f(i,o),v=f(d,p),b=f(d,o),w=f(d,g),y=f(i,g),x=f(h,g),k=f(h,o),C=f(h,p),S=f(i,p),_=function(e){return{c:e,m:function(){var e;return(e=this.c).moveTo.apply(e,arguments),this},l:function(){var e;return(e=this.c).lineTo.apply(e,arguments),this},a:function(){var e;return(e=this.c).arcTo.apply(e,arguments),this}}}(t);m?function(e,t,n,r,i,o,a,s,c,l){a?e.m(t+o,n):e.m(t,n),s?e.l(r-o,n).a(r,n,r,i,o):e.l(r,n),c?e.l(r,i-o).a(r,i,t,i,o):e.l(r,i),l?e.l(t+o,i).a(t,i,t,n,o):e.l(t,i),a?e.l(t,n+o).a(t,n,r,n,o):e.l(t,n)}(_,a,s,c,l,u,!b&&!S,!b&&!y,!k&&!y,!k&&!S):function(e,t,n,r,i,o,a,s,c,l){a&&e.m(t+o,n).l(t,n).l(t,n+o).a(t,n,t+o,n,o),s&&e.m(r-o,n).l(r,n).l(r,n+o).a(r,n,r-o,n,o),c&&e.m(r-o,i).l(r,i).l(r,i-o).a(r,i,r-o,i,o),l&&e.m(t+o,i).l(t,i).l(t,i-o).a(t,i,t+o,i,o)}(_,a,s,c,l,u,b&&S&&v,b&&y&&w,k&&y&&x,k&&S&&C)}},function(e,t){"use strict";e.exports=function(e,t){var n=t.mode;"label"===n?function(e,t){var n=t.size,r="bold "+.01*t.mSize*n+"px "+t.fontname;e.strokeStyle=t.back,e.lineWidth=.01*t.mSize*n*.1,e.fillStyle=t.fontcolor,e.font=r;var i=e.measureText(t.label).width,o=.01*t.mSize,a=(1-i/n)*t.mPosX*.01*n,s=(1-o)*t.mPosY*.01*n+.75*t.mSize*.01*n;e.strokeText(t.label,a,s),e.fillText(t.label,a,s)}(e,t):"image"===n&&function(e,t){var n=t.size,r=t.image.naturalWidth||1,i=t.image.naturalHeight||1,o=.01*t.mSize,a=o*r/i,s=(1-a)*t.mPosX*.01*n,c=(1-o)*t.mPosY*.01*n,l=a*n,u=o*n;e.drawImage(t.image,s,c,l,u)}(e,t)}}])})},function(e,t,n){(function(e){"use strict";var t=n(2),r=t.each,i=t.isStr,o=t.dom,a=n(8),s=n(12),c=n(19),l=n(35),u=n(14),f=n(16),d=e.window,h=Object.assign({enabled:!1,lang:"en",useBrowserLang:!0},u.l10n),p={isoCode:"en",lang:"english",dateFormat:"YYYY-MM-DD HH:mm",details:"details",download:"download",empty:"empty",files:"files",filter:"filter",folders:"folders",grid:"grid",icons:"icons",language:"Language",lastModified:"Last modified",name:"Name",noMatch:"no match",parentDirectory:"Parent Directory",search:"search",size:"Size",tree:"Tree",view:"View"},g="ext/l10n",m={en:Object.assign({},p)},v=m.en,b=function(e){e&&(v=e);var t="selected";o("#langs option").rmAttr(t).rmProp(t),o("#langs ."+v.isoCode).attr(t,"").prop(t,!0),r(v,function(e,t){o(".l10n-"+t).text(e),o(".l10n_ph-"+t).attr("placeholder",e)}),c.setDefaultDateFormat(v.dateFormat),o("#items .item").each(function(e){o(e).find(".date").text(c.formatDate(e._item.time))})},w=function(e,t,n){var r=f.get(g);if(e[r])t=r;else if(n){var i=d.navigator.language||d.navigator.browserLanguage;i&&(e[i]?t=i:i.length>2&&e[i.substr(0,2)]&&(t=i.substr(0,2)))}
e[t]||(t="en"),function(e){return m[e]?Promise.resolve(m[e]):a.request({action:"get",l10n:[e]}).then(function(t){return m[e]=Object.assign({},p,t.l10n&&t.l10n[e],{isoCode:e}),m[e]})}(t).then(b)};!function(){var e,t,n;h.enabled&&(e=l,t=o('<div class="block">\n            <h1 class="l10n-language">Language</h1>\n            <div class="select">\n                <select id="langs"/>\n            </div>\n        </div>'),n=t.find("select").on("change",function(t){var n=t.target.value;f.put(g,n),w(e,n,!1)}),r(e,function(e,t){o("<option/>").attr("value",t).addCls(t).text(t+" - "+(i(e)?e:e.lang)).appTo(n)}),t.appTo("#sidebar")),s.sub("view.changed",function(){w(l,h.lang,h.useBrowserLang)})}()}).call(t,function(){return this}())},function(e,t,n){"use strict";var r=n(7).langs;e.exports=Object.assign({},r)},function(e,t,n){(function(e){"use strict";var t=n(2),r=t.dom,i=t.awaitLoad,o=n(12),a=n(14),s=e.window,c=Object.assign({enabled:!1,baseURL:"not-set",idSite:0},a["piwik-analytics"]);!function(){if(c.enabled){var e=("https:"===s.location.protocol?"https://":"http://")+c.baseURL+"/",t=[],n=null;r("<script><\/script>").attr("src",e+"piwik.js").appTo("body"),i().then(function(){if(n=s.Piwik&&s.Piwik.getTracker(e+"piwik.php",c.idSite))
for(n.enableLinkTracking();t.length;)n.trackPageView(t.shift())}),o.sub("location.changed",function(e){var r=e.getCrumb().map(function(e){return e.label}).join(" > ");n?n.trackPageView(r):t.push(r)})}}()}).call(t,function(){return this}())},function(e,t,n){"use strict";n(38),n(39),n(40),n(41),n(43)},function(e,t,n){(function(t){"use strict";var r=n(2),i=r.each,o=r.isFn,a=r.dom,s=r.includes,c=r.compact,l=n(12),u=n(13),f=n(14),d=n(16),h=t.window,p=Object.assign({enabled:!0},f.preview),g='<div id="pv-overlay">\n            <div id="pv-container"></div>\n            <div id="pv-spinner"><img class="back"/><img class="spinner" src="'+u.image("spinner")+'"/></div>\n            <div id="pv-prev-area" class="hof"><img src="'+u.image("preview-prev")+'"/></div>\n            <div id="pv-next-area" class="hof"><img src="'+u.image("preview-next")+'"/></div>\n            <div id="pv-bottombar" class="clearfix hof">\n                <ul id="pv-buttons">\n                    <li id="pv-bar-close" class="bar-right bar-button"><img src="'+u.image("preview-close")+'"/></li>\n                    <li id="pv-bar-raw" class="bar-right"><a class="bar-button" target="_blank"><img src="'+u.image("preview-raw")+'"/></a></li>\n                    <li id="pv-bar-fullscreen" class="bar-right bar-button"><img src="'+u.image("preview-fullscreen")+'"/></li>\n                    <li id="pv-bar-next" class="bar-right bar-button"><img src="'+u.image("preview-next")+'"/></li>\n                    <li id="pv-bar-idx" class="bar-right bar-label"></li>\n                    <li id="pv-bar-prev" class="bar-right bar-button"><img src="'+u.image("preview-prev")+'"/></li>\n                </ul>\n            </div>\n        </div>',m="ext/preview",v=d.get(m)||!1,b=null,w=!1,y=null,x=null,k=function(){var e=h.document.documentElement,t=e.clientWidth,n=e.clientHeight,r=v?0:20,i=v?0:48;a("#pv-container").css({width:t-2*r+"px",height:n-2*r-i+"px",left:r+"px",top:r+"px"}),a("#pv-spinner").css({left:.5*t+"px",top:.5*n+"px"}),v?(a("#pv-overlay").addCls("fullscreen"),a("#pv-bar-fullscreen").find("img").attr("src",u.image("preview-no-fullscreen"))):(a("#pv-overlay").rmCls("fullscreen"),a("#pv-bar-fullscreen").find("img").attr("src",u.image("preview-fullscreen"))),function(){var e=a("#pv-container"),t=e[0],n=e.children()[0];if(t&&n){var r=t.offsetWidth,i=t.offsetHeight,o=n.offsetWidth,s=n.offsetHeight;a(n).css({left:.5*(r-o)+"px",top:.5*(i-s)+"px"})}}(),o(x&&x.adjust)&&x.adjust()},C=function(e){a("#pv-buttons .bar-left").rm(),i(e,function(e){a("<li></li>").addCls("bar-left").addCls("bar-label").text(e).appTo("#pv-buttons")})},S=function(){var e=a("#pv-overlay .hof");h.clearTimeout(b),e.show(),v&&(b=h.setTimeout(function(){return e.hide()},2e3))},_=function(){return x&&x.moveIdx(1)},A=function(){return x&&x.moveIdx(-1)},T=function(){v=!v,d.put(m,v),S(),k()},z=function(e){e.stopPropagation(),e.preventDefault()},$=function(e){var t=e.keyCode;27===t?(z(e),L()):8===t||37===t?(z(e),A()):13===t||32===t||39===t?(z(e),_()):70===t&&(z(e),T())},L=function(){C([]),a("#pv-container").clr(),a("#pv-overlay").hide(),a(h).off("keydown",$)},H=function e(t,n,r){h.clearTimeout(y);var i=a("#pv-spinner");if(!t)return w=!1,void i.hide();if(w||!r){var o=i.find(".back");n?o.attr("src",n).show():o.hide(),w=!0,i.show()}else y=h.setTimeout(function(){return e(!0,n)},r)},D=function e(t,n,r,i){var o=Object.assign(Object.create(e.prototype),{items:t,load:r,adjust:i});return o.setIdx(n),o};D.prototype={setIdx:function(e){var t=this;this.idx=(e+this.items.length)%this.items.length,this.item=this.items[this.idx],function(e,t){a("#pv-bar-idx").text(e+"/"+t).show()}(this.idx+1,this.items.length),function(e){a("#pv-bar-raw").show().find("a").attr("href",e)}(this.item.absHref),C([this.item.label]);var n=this.item;Promise.resolve().then(function(){i(a("#pv-container *"),function(e){"function"==typeof e.unload&&e.unload()}),a("#pv-container").hide().clr(),H(!0,n.thumbSquare||n.icon,200)}).then(function(){return t.load(n)}).then(function(e){n===t.item&&(a("#pv-container").clr().app(e).show(),H(!1),k())})},moveIdx:function(e){this.setIdx(this.idx+e)}};e.exports={setLabels:C,register:function(e,t,n){var r=function(r){r.$view&&s(e,r.type)&&r.$view.find("a").on("click",function(i){i.preventDefault();var o=c(a("#items .item").map(function(t){var n=t._item;return s(e,n.type)?n:null}));x=D(o,o.indexOf(r),t,n),C([]),a("#pv-container").clr(),a("#pv-overlay").show(),a(h).on("keydown",$),k()})};l.sub("view.changed",function(e){return i(e,r)})},get item(){return x&&x.item}},p.enabled&&(a(g).hide().appTo("body").on("keydown",$).on("mousemove",S).on("mousedown",S).on("click",function(e){"pv-overlay"!==e.target.id&&"pv-container"!==e.target.id||L()}).on("mousedown",z).on("mousemove",z).on("keydown",z).on("keypress",z),a("#pv-spinner").hide(),a("#pv-bar-prev, #pv-prev-area").on("click",A),a("#pv-bar-next, #pv-next-area").on("click",_),a("#pv-bar-close").on("click",L),a("#pv-bar-fullscreen").on("click",T),a(h).on("resize",k).on("load",k))}).call(t,function(){return this}())},function(e,t,n){"use strict";var r=n(2).dom,i=n(19),o=n(14),a=n(38),s=Object.assign({enabled:!1,autoplay:!0,types:[]},o["preview-aud"]),c=function(){var e=r("#pv-content-aud")[0];e&&a.setLabels([a.item.label,i.formatDate(1e3*e.duration,"m:ss")])},l=function(e){return new Promise(function(t){var n=r('<audio id="pv-content-aud"/>').on("loadedmetadata",function(){return t(n)}).attr("controls","controls");s.autoplay&&n.attr("autoplay","autoplay"),function(e){e.unload=function(){e.src="",e.load()}}(n[0]),n.attr("src",e.absHref)})};s.enabled&&a.register(s.types,l,c)},function(e,t,n){"use strict";var r=n(2).dom,i=n(8),o=n(14),a=n(38),s=Object.assign({enabled:!1,size:null,types:[]},o["preview-img"]),c=function(){var e=r("#pv-content-img")[0];if(e){var t=e.offsetWidth,n=[a.item.label];if(!s.size){var i=e.naturalWidth,o=e.naturalHeight;n.push(String(i)+"x"+String(o)),n.push(String((100*t/i).toFixed(0))+"%")}
a.setLabels(n)}},l=function(e){return Promise.resolve(e.absHref).then(function(e){return s.size?function(e){return i.request({action:"get",thumbs:[{type:"img",href:e,width:s.size,height:0}]}).then(function(e){return e&&e.thumbs&&e.thumbs[0]?e.thumbs[0]:null})}(e):e}).then(function(e){return new Promise(function(t){var n=r('<img id="pv-content-img"/>').on("load",function(){return t(n)}).attr("src",e)})})};s.enabled&&a.register(s.types,l,c)},function(e,t,n){(function(e){"use strict";var t=n(42),r=n(28),i=n(2),o=i.keys,a=i.dom,s=n(14),c=n(38),l=e.window,u=l.XMLHttpRequest,f=Object.assign({enabled:!1,styles:{}},s["preview-txt"]),d='<pre id="pv-content-txt"></pre>',h='<div id="pv-content-txt"></div>',p=function(){var e=a("#pv-content-txt")[0];if(e){var t=a("#pv-container")[0];e.style.height=t.offsetHeight+"px",c.setLabels([c.item.label,c.item.size+" bytes"])}},g=function(e){return function(e){return new Promise(function(t,n){var r=new u;r.open("GET",e,!0),r.onreadystatechange=function(){if(r.readyState===u.DONE)try{t(r.responseText||"")}catch(e){n(String(e))}},r.send()})}(e.absHref).catch(function(e){return "[request failed] "+e}).then(function(n){var i=f.styles[e.type];if(1===i)return a(d).text(n);if(2===i)return a(h).html(r(n));if(3===i){var o=a("<code></code>").text(n);return l.setTimeout(function(){t.el(o[0])},n.length<2e4?0:500),a(d).app(o)}
return a(h).text(n)})};f.enabled&&c.register(o(f.styles),g,p)}).call(t,function(){return this}())},function(e,t,n){e.exports=function(){var e="_nam#ddd}_num#ec4040}_str#39ab3e}_rex#ef6c00}_pct#666}_unk#888}_pct#aaa}_key#fa9926;font-weight:bold}_com#888;font-style:italic}".replace(/_/g,".ll-").replace(/#/g,"{color:#"),t=/^(a(bstract|lias|nd|rguments|rray|s(m|sert)?|uto)|b(ase|egin|ool(ean)?|reak|yte)|c(ase|atch|har|hecked|lass|lone|ompl|onst|ontinue)|de(bugger|cimal|clare|f(ault|er)?|init|l(egate|ete)?)|do|double|e(cho|ls?if|lse(if)?|nd|nsure|num|vent|x(cept|ec|p(licit|ort)|te(nds|nsion|rn)))|f(allthrough|alse|inal(ly)?|ixed|loat|or(each)?|riend|rom|unc(tion)?)|global|goto|guard|i(f|mp(lements|licit|ort)|n(it|clude(_once)?|line|out|stanceof|t(erface|ernal)?)?|s)|l(ambda|et|ock|ong)|m(odule|utable)|NaN|n(amespace|ative|ext|ew|il|ot|ull)|o(bject|perator|r|ut|verride)|p(ackage|arams|rivate|rotected|rotocol|ublic)|r(aise|e(adonly|do|f|gister|peat|quire(_once)?|scue|strict|try|turn))|s(byte|ealed|elf|hort|igned|izeof|tatic|tring|truct|ubscript|uper|ynchronized|witch)|t(emplate|hen|his|hrows?|ransient|rue|ry|ype(alias|def|id|name|of))|u(n(checked|def(ined)?|ion|less|signed|til)|se|sing)|v(ar|irtual|oid|olatile)|w(char_t|hen|here|hile|ith)|xor|yield)$/,n="com",r="nam",i="num",o=[[i,/#([0-9a-f]{6}|[0-9a-f]{3})\b/],[n,/(\/\/|#).*?(?=\n|$)/],[n,/\/\*[\s\S]*?\*\//],[n,/<!--[\s\S]*?-->/],["rex",/\/(\\\/|[^\n])*?\//],["str",/(['"`])(\\\1|[\s\S])*?\1/],[i,/[+-]?([0-9]*\.?[0-9]+|[0-9]+\.?[0-9]*)([eE][+-]?[0-9]+)?/],["pct",/[\\.,:;+\-*\/=<>()[\]{}|?!&@~]/],["spc",/\s+/],[r,/[\w$]+/],["unk",/./]],a=function(e){if("string"!=typeof e)throw new Error("tok: no string");for(var n=[],a=o.length,s=!1;e;)
for(var c=0;c<a;c+=1){var l=o[c][1].exec(e);if(l&&0===l.index){var u=o[c][0];if("rex"!==u||!s){var f=l[0];u===r&&t.test(f)&&(u="key"),"spc"===u?f.indexOf("\n")>=0&&(s=!1):s=u===i||u===r,e=e.slice(f.length),n.push([u,f]);break}}}
return n},s=function(e,t){if("undefined"!=typeof document)t(document);else if(e)throw new Error("no doc")},c=function(e){s(!0,function(t){var n=a(e.textContent);e.innerHTML="",n.forEach(function(n){var r=t.createElement("span");r.className="ll-"+n[0],r.textContent=n[1],e.appendChild(r)})})},l=function(e){s(!0,function(t){[].forEach.call(t.querySelectorAll(e||".lolight"),function(e){c(e)})})};return s(!1,function(t){var n=t.querySelector("head"),r=t.createElement("style");r.textContent=e,n.insertBefore(r,n.firstChild),/^(i|c|loade)/.test(t.readyState)?l():t.addEventListener("DOMContentLoaded",function(){l()})}),l.tok=a,l.el=c,l}()},function(e,t,n){"use strict";var r=n(2).dom,i=n(14),o=n(38),a=Object.assign({enabled:!1,autoplay:!0,types:[]},i["preview-vid"]),s=function(){var e=r("#pv-content-vid")[0];if(e){var t=e.offsetWidth,n=e.videoWidth,i=e.videoHeight;o.setLabels([o.item.label,String(n)+"x"+String(i),String((100*t/n).toFixed(0))+"%"])}},c=function(e){return new Promise(function(t){var n=r('<video id="pv-content-vid"/>').on("loadedmetadata",function(){return t(n)}).attr("controls","controls");a.autoplay&&n.attr("autoplay","autoplay"),function(e){e.unload=function(){e.src="",e.load()}}(n[0]),n.attr("src",e.absHref)})};a.enabled&&o.register(a.types,c,s)},function(e,t,n){"use strict";var r=n(2),i=r.map,o=r.debounce,a=r.parsePattern,s=r.dom,c=n(8),l=n(12),u=n(20),f=n(13),d=n(14),h=n(22),p=n(18),g=Object.assign({enabled:!1,advanced:!1,debounceTime:300,ignorecase:!0},d.search),m='<div id="search" class="tool">\n            <img src="'+f.image("search")+'" alt="search"/>\n            <input class="l10n_ph-search" type="text" value=""/>\n        </div>',v=!1,b="",w=void 0,y=void 0,x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(e!==b){if(b=e,!e)return void p.setLocation();w.addCls("pending"),c.request({action:"get",search:{href:u.getAbsHref(),pattern:e,ignorecase:g.ignorecase}}).then(function(e){w.rmCls("pending"),p.setHint("noMatch"),p.setItems(i(e.search,function(e){return h.get(e)}))})}},k=function(){v?(w.addCls("active"),y[0].focus(),x(a(y.val(),g.advanced))):(x(),w.rmCls("active"))},C=function(){v=!v,k()},S=function(){v=!1,y.val(""),k()};g.enabled&&(w=s(m).appTo("#toolbar"),y=w.find("input"),w.find("img").on("click",C),y.on("keyup",o(k,g.debounceTime)),l.sub("location.changed",S))},function(e,t,n){(function(e){"use strict";var t=n(2),r=t.each,i=t.dom,o=n(12),a=n(13),s=n(14),c=e.window.document,l=Object.assign({enabled:!1,clickndrag:!1,checkboxes:!1},s.select),u='<span class="selector">\n            <img src="'+a.image("selected")+'" alt="selected"/>\n        </span>',f=i(c),d=i("html"),h=i('<div id="selection-rect"></div>'),p=Math.max,g=Math.min,m=Math.abs,v=0,b=0,w=function(){var e=i("#items .item.selected").map(function(e){return e._item});o.pub("selection",e)},y=function(e){var t=i(e);if(!t.length||t.isHidden())return null;var n=t[0].getBoundingClientRect();return{l:n.left,t:n.top,r:n.right,b:n.bottom}},x=function(e){var t=i("#content")[0],n=y(t);return{x:e.pageX-n.l+t.scrollLeft,y:e.pageY-n.t+t.scrollTop}},k=function(e){var t=x(e),n=t.x,r=t.y,o=g(v,n),a=g(b,r),s=m(v-n),c=m(b-r),l=e.ctrlKey||e.metaKey;if(!(!l&&s<4&&c<4)){l||i("#items .item").rmCls("selected"),d.addCls("drag-select"),h.show().css({left:o+"px",top:a+"px",width:s+"px",height:c+"px"});var u=y(h),f=i("#items .item:not(.folder-parent)");(function(e){var t=e[0];(function(e,t){return!!e&&!!t&&e.l===t.l&&e.t===t.t&&e.r===t.r&&e.b===t.b})(y(t),t&&t._rect)||e.each(function(e){e._rect=y(e)})})(f),f.rmCls("selecting").each(function(e){(function(e,t){if(!e||!t)return!1;var n=p(e.l,t.l),r=g(e.r,t.r),i=p(e.t,t.t),o=g(e.b,t.b);return n<=r&&i<=o})(u,e._rect)&&i(e).addCls("selecting")})}},C=function e(t){f.off("mousemove",k).off("mouseup",e),k(t),i("#items .item.selecting.selected").rmCls("selecting").rmCls("selected"),i("#items .item.selecting").rmCls("selecting").addCls("selected"),w(),d.rmCls("drag-select"),h.hide(),t.stopPropagation(),t.preventDefault()},S=function(e){if(!(0!==e.button||e.offsetX>=i("#content")[0].offsetWidth-16)){var t=x(e),n=t.x,r=t.y;v=n,b=r,f.on("mousemove",k).on("mouseup",C),k(e),e.preventDefault()}},_=function(e){(function(e){for(;!e._item&&e.parentNode;)e=e.parentNode;return e._item})(e.target).$view.tglCls("selected"),w(),e.stopPropagation(),e.preventDefault()},A=function(e){e.$view&&!e.isCurrentParentFolder()&&i(u).on("click",_).appTo(e.$view.find("a"))},T=function(e,t){l.checkboxes&&r(e,A),r(t,function(e){e.$view&&e.$view.rmCls("selected")}),w()};l.enabled&&(l.clickndrag||l.checkboxes)&&(o.sub("view.changed",T),l.clickndrag&&(h.hide().appTo("#content"),i("#content").on("mousedown",S).on("drag",function(e){return e.preventDefault()}).on("dragstart",function(e){return e.preventDefault()})))}).call(t,function(){return this}())},function(e,t,n){"use strict";var r=n(2),i=r.each,o=r.toArray,a=r.dom,s=r.cmp,c=r.naturalCmp,l=n(12),u=n(13),f=n(14),d=n(16),h=Object.assign({enabled:!1,column:0,reverse:!1,ignorecase:!0,natural:!1,folders:0},f.sort),p="ext/sort",g='<img src="'+u.image("sort")+'" class="sort" alt="sort order"/>',m=function(e){return e.isFolder()?h.folders:1},v={0:"label",1:"time",2:"size"},b={0:"label",1:"date",2:"size"},w=function(e,t){var n=a("#items li.header a"),r=a("#items li.header a."+b[e]),i=function(e,t,n,r){return function(i,o){var a=i._item,l=o._item,u=m(a)-m(l);if(0!==u)return u;var f=a[e],d=l[e];return(isNaN(f)||isNaN(d))&&(f=String(f),d=String(d),n&&(f=f.toLowerCase(),d=d.toLowerCase())),u=r?c(f,d):s(f,d),t?-u:u}}(v[e],t,h.ignorecase,h.natural);d.put(p,{column:e,reverse:t}),n.rmCls("ascending").rmCls("descending"),r.addCls(t?"descending":"ascending"),a(o(a("#items .item:not(.folder-parent)")).sort(i)).appTo("#items")},y=function(){var e=d.get(p),t=e&&e.column||h.column,n=e&&e.reverse||h.reverse;w(t,n)};!function(){var e;h.enabled&&(e=a("#items li.header"),i(b,function(t,n){var r="0"===n?"app":"pre";e.find("a."+t)[r](g).on("click",function(e){w(n,a(e.currentTarget).hasCls("ascending")),e.preventDefault()})}),l.sub("view.changed",y))}()},function(e,t,n){"use strict";var r=n(2),i=r.each,o=r.map,a=r.includes,s=n(8),c=n(12),l=n(14),u=Object.assign({enabled:!1,img:["img-bmp","img-gif","img-ico","img-jpg","img-png"],mov:["vid-avi","vid-flv","vid-mkv","vid-mov","vid-mp4","vid-mpg","vid-webm"],doc:["x-pdf","x-ps"],delay:1,size:100,exif:!1,chunksize:20},l.thumbnails),f=function(e){var t=o(e,function(e){return{type:e.type,href:e.href,width:Math.round(u.size*e.ratio),height:u.size}});return s.request({action:"get",thumbs:t}).then(function(t){i(e,function(e,n){e.callback(t&&t.thumbs?t.thumbs[n]:null)})})},d=function(e){var t=[];i(e,function(e){return function(e,t){var n=null;if(a(u.img,t.type))n="img";else if(a(u.mov,t.type))n="mov";else{if(!a(u.doc,t.type))return;n="doc"}
t.thumbSquare?t.$view.find(".icon.square img").addCls("thumb").attr("src",t.thumbSquare):e.push({type:n,href:t.absHref,ratio:1,callback:function(e){e&&t.$view&&(t.thumbSquare=e,t.$view.find(".icon.square img").addCls("thumb").attr("src",e))}}),t.thumbRational?t.$view.find(".icon.landscape img").addCls("thumb").attr("src",t.thumbRational):e.push({type:n,href:t.absHref,ratio:4/3,callback:function(e){e&&t.$view&&(t.thumbRational=e,t.$view.find(".icon.landscape img").addCls("thumb").attr("src",e))}})}(t,e)}),function(e){for(var t=e.length,n=u.chunksize,r=Promise.resolve(),i=function(t){r=r.then(function(){return f(e.slice(t,t+n))})},o=0;o<t;o+=n)i(o)}(t)},h=function(e){setTimeout(function(){return d(e)},u.delay)};u.enabled&&c.sub("view.changed",h)},function(e,t,n){(function(e){"use strict";var t=n(12),r=n(14),i=e.window.document,o=Object.assign({enabled:!1},r.title),a=function(e){var t=e.getCrumb().map(function(e){return e.label}),n=t.join(" > ");t.length>1&&(n=t[t.length-1]+" - "+n),i.title=n};o.enabled&&t.sub("location.changed",a)}).call(t,function(){return this}())},function(e,t,n){"use strict";var r=n(2),i=r.each,o=r.dom,a=r.cmp,s=r.naturalCmp,c=n(12),l=n(20),u=n(13),f=n(14),d=n(16),h=Object.assign({enabled:!1,show:!0,maxSubfolders:50,naturalSort:!1,ignorecase:!0},f.tree),p='<div class="item folder">\n            <span class="indicator">\n                <img src="'+u.image("tree-indicator")+'"/>\n            </span>\n            <a>\n                <span class="icon"><img src="'+u.icon("folder")+'"/></span>\n                <span class="label"></span>\n            </a>\n        </span>',g='<div class="block">\n            <h1 class="l10n-tree">Tree</h1>\n            <div id="view-tree" class="button view">\n                <img src="'+u.image("tree-toggle")+'" alt="view-tree"/>\n            </div>\n        </div>',m="ext/tree",v=function(e){var t=function(e){for(;!e._item&&e.parentNode;)e=e.parentNode;return e._item}(e.target);"unknown"===t._treeState?t.fetchContent().then(function(){t._treeState="open",w(t)}):"open"===t._treeState?(t._treeState="closed",t._$tree.rmCls("open").addCls("closed")):"closed"===t._treeState&&(t._treeState="open",t._$tree.rmCls("closed").addCls("open"))},b=function(e,t){var n=e.label,r=t.label;return h.ignorecase&&(n=n.toLowerCase(),r=r.toLowerCase()),h.naturalSort?s(n,r):a(n,r)},w=function e(t){var n=t.getSubfolders(),r=n.length,a=h.maxSubfolders,s=o(p);if(s.find(".indicator").on("click",v),s.find(".label").text(t.label),l.setLink(s.find("a"),t),t.isCurrentFolder()&&s.addCls("active"),t.isManaged||s.find(".icon img").attr("src",u.icon("folder-page")),t._treeState=t._treeState||"none",t.isManaged&&!t.isContentFetched?t._treeState="unknown":r||(t._treeState="none"),s.addCls(t._treeState),r){var c=o('<div class="content"></div>').appTo(s);n.sort(b),i(n.slice(0,a),function(t){return c.app(e(t))}),r>a&&c.app('<div class="summary">… '+(r-a)+" more subfolders</div>")}
return t._$tree&&t._$tree.rpl(s),t._$tree=s,s[0]._item=t,s},y=function(){d.get(m)?(o("#view-tree").addCls("active"),o("#tree").show()):(o("#view-tree").rmCls("active"),o("#tree").hide())},x=function(e){(function e(t){return t._treeState="open",t.fetchContent().then(function(){return t.parent?e(t.parent):t})})(e).then(function(e){o("#tree").clr().app(w(e)),y()})};h.enabled&&(o('<div id="tree"></div>').hide().appTo("#mainrow"),o(g).appTo("#sidebar").find("#view-tree").on("click",function(e){d.put(m,!d.get(m)),y(),c.pub("resize"),e.preventDefault()}),"boolean"!=typeof d.get(m)&&d.put(m,h.show),y(),c.sub("location.changed",x))},function(e,t,n){(function(e){"use strict";var t=n(2).dom,r=n(7),i=n(8),o=n(13),a='<div id="support">\n            Show your support with a donation!\n            <div class="paypal">\n                <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_blank">\n                    <input type="hidden" name="cmd" value="_s-xclick"/>\n                    <input type="hidden" name="hosted_button_id" value="8WSPKWT7YBTSQ"/>\n                    <input type="image" src="'+o.image("paypal")+'" name="submit" alt="PayPal"/>\n                </form>\n            </div>\n        </div>',s=r.setup,c=function(e,n,r,i){var o=t('<li class="test">\n            <span class="label"></span>\n            <span class="result"></span>\n            <div class="info"></div>\n        </li>').appTo("#tests");o.find(".label").text(e),o.find(".result").addCls(r?"passed":"failed").text(i||(r?"yes":"no")),o.find(".info").html(n)},l=function(){e.window.location.reload()},u=function(){i.request({action:"login",pass:t("#pass").val()}).then(l)},f=function(){i.request({action:"logout"}).then(l)},d=function(e){13===e.which&&u()};t(a).appTo("#content"),t('<div id="login-wrapper">\n            <input id="pass" type="password" placeholder="password"/>\n            <span id="login">login</span>\n            <span id="logout">logout</span>\n            <div id="hint">\n                The preset password is the empty string, just click login.\n                Change it in \'_h5ai/private/conf/options.json\'.\n            </div>\n        </div>').appTo("#content"),s.AS_ADMIN?(t("#pass").rm(),t("#login").rm(),t("#logout").on("click",f)):(t("#pass").on("keydown",d)[0].focus(),t("#login").on("click",u),t("#logout").rm()),r.options.hasCustomPasshash&&t("#hint").rm(),s.AS_ADMIN&&(t('<ul id="tests"></ul>').appTo("#content"),c("h5ai version","Only green if this is an official h5ai release",/^\d+\.\d+\.\d+$/.test(s.VERSION),s.VERSION),c("Index file found","Add <code>"+s.INDEX_HREF+"</code> to your index file list",s.INDEX_HREF),c("Options parsable","File <code>options.json</code> is readable and syntax is correct",null!==r.options),c("Types parsable","File <code>types.json</code> is readable and syntax is correct",null!==r.types),c("Server software","Server is one of apache, lighttpd, nginx or cherokee",s.HAS_SERVER,s.SERVER_NAME+" "+s.SERVER_VERSION),c("PHP version","PHP version &gt;= "+s.MIN_PHP_VERSION,!0,s.PHP_VERSION),c("PHP arch","64-bit required to correctly display file/folder sizes &gt; ~2GB","64-bit"===s.PHP_ARCH,s.PHP_ARCH),c("Public Cache directory","Web server has write access",s.HAS_WRITABLE_CACHE_PUB),c("Private Cache directory","Web server has write access",s.HAS_WRITABLE_CACHE_PRV),c("Image thumbs","PHP GD extension with JPEG support available",s.HAS_PHP_JPEG),c("Use EXIF thumbs","PHP EXIF extension available",s.HAS_PHP_EXIF),c("Movie thumbs","Command line program <code>avconv</code> or <code>ffmpeg</code> available",s.HAS_CMD_AVCONV||s.HAS_CMD_FFMPEG),c("PDF thumbs","Command line program <code>convert</code> or <code>gm</code> available",s.HAS_CMD_CONVERT||s.HAS_CMD_GM),c("Shell tar","Command line program <code>tar</code> available",s.HAS_CMD_TAR),c("Shell zip","Command line program <code>zip</code> available",s.HAS_CMD_ZIP),c("Shell du","Command line program <code>du</code> available",s.HAS_CMD_DU))}).call(t,function(){return this}())}]);